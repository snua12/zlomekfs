last trmac's merged revision:2438 (last up on 2434)

communication with one provider may not change the behavior of operations on objects not provided by him

is it true, that for kernel is it the same to comunicate with remote and local provider?

when only one client is working with fs, there may not be conflicts.

what about file locks?

ONE CLIENT - SINGLE THREAD

may act like normal fs. period.

ONE CLIENT - MULTI THREAD

volumes provided by the node
- behavior like normal fs, no race conditions or lock problems like nfs

volumes accessed remotely
- behavior like normal fs, may have problems like nfs, better to avoid them

volumes cached by the node - disconnected operation (offline)
- while working, behavior is the same as "volumes provided by the node"
- when syncing, ...

volumes cached by the node - connected operation
- behavior like normal fs, may have problems like nfs, better to avoid them

nfs problems can arise when more than one thread is updating (synchronizing) one item. I don't know, if this can arise in zfsd.

p.s. "The connected
and disconnected operations diï¬€er only in the fact that the local cache is not
synchronized when the node is disconnected. Therefore, no special handling
of these two cases is required."

MORE CLIENTS - SINGLE-THREADED

MORE CLIENTS - MULTI-THREADED

CONFIGURATION - ???

now:
- changes in tree needs restart to be used