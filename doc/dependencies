libtool autoconf automake gettext gettext-devel
kernel-devel dbus-1 dbus-1-devel libelf0 libelf0-devel
pysvn
TODO: buildbot packaging, revisions in rpm version

buildslave should have full access to repo

master:
#create user
useradd -d /home/buildmaster -s /bin/bash buildmaster
chown buildmaster /home/buildmaster
#install dependencies
yum install buildbot python-sqlite2 mysql-server MySQL-python
rpm -ivh python-django-snapshot-*.rpm TestResultStorage-*.rpm
#enable mysql
/sbin/chkconfig mysqld on
#set root password for mysql
/usr/bin/mysqladmin -u root password 'secret'
/usr/bin/mysqladmin -u root -h bravo.vsln password 'secret'
#create tables
cat /usr/lib/python2.5/site-packages/TestResultStorage/prepare.sql | mysql --user=root --password=secret
cd /usr/lib/python2.5/site-packages/TestResultStorage
python manage.py syncdb
#checkout data
su buildmaster
cd /home/buildmaster
svn export http://shiva.ms.mff.cuni.cz/svn/zzzzzfs/branches/zouhar/buildbot/buildmaster zlofs
#TODO: set init
DJANGO_SETTINGS_MODULE=TestResultStorage.settings buildbot start zlofs 
#set firewall (open 8010, 9989)
/sbin/iptables -A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 8010 -j ACCEPT
/sbin/iptables -A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 9989 -j ACCEPT
/sbin/iptables -A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 3306 --source 192.168.16.0/24 -j ACCEPT
#TODO: selinux?
#configure bot links
#configure services to start at boot
# for example add this line to crontab:
# @reboot make start -C /home/buildmaster/zlofs


slave:
#get and install pysvn http://pysvn.tigris.org/
yum install buildbot python-sqlite2 MySQL-python kernel-devel dbus dbus-devel libtool autoconf automake gettext gettext-devel python-setuptools python-nose
rpm -ivh python-django-snapshot-*.rpm TestResultStorage-*.rpm py25_pysvn_svn144-*.rpm
# change /usr/lib/python2.5/site-packages/TestResultStorage/settings.py to store data on master
# create user
useradd -d /home/buildslave -s /bin/bash buildslave
#export config
svn export https://shiva.ms.mff.cuni.cz/svn/zzzzzfs/branches/zouhar/buildbot/buildslave zlofs
# change zlofs/buildbot.tac to connect to actual master with accurate auth
# configure services to start at boot
# for example add this line to crontab:
# @reboot buildbot start /home/buildslave/zlofs


#configure bots (settings, cfg)
#install all rpms (or build projects in proper order)
#configure services