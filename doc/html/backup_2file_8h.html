<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>zlomekFS: file.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul>
</div>
<div class="nav">
<a class="el" href="dir_21c430ab3b7001ae39034eae6f7edf71.html">zfsd</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_ac94841c51e61ddc7acc56e12a771012.html">backup</a></div>
<h1>backup/file.h File Reference</h1>File operations. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="backup_2system_8h-source.html">system.h</a>&quot;</code><br>
<code>#include &lt;inttypes.h&gt;</code><br>
<code>#include &lt;sys/types.h&gt;</code><br>
<code>#include &lt;sys/stat.h&gt;</code><br>
<code>#include &lt;unistd.h&gt;</code><br>
<code>#include &lt;time.h&gt;</code><br>
<code>#include &quot;<a class="el" href="backup_2pthread-wrapper_8h-source.html">pthread-wrapper.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="backup_2data-coding_8h-source.html">data-coding.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="backup_2hashtab_8h-source.html">hashtab.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="fh_8h-source.html">fh.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="backup_2zfs-prot_8h-source.html">zfs-prot.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="backup_2volume_8h-source.html">volume.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="backup_2node_8h-source.html">node.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="backup_2fibheap_8h-source.html">fibheap.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="backup_2metadata_8h-source.html">metadata.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="cap_8h-source.html">cap.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="backup_2cap_8h-source.html">cap.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="volume_8h-source.html">volume.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="metadata_8h-source.html">metadata.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="backup_2fh_8h-source.html">fh.h</a>&quot;</code><br>

<p>
<a href="backup_2file_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structinternal__fd__data__def.html">internal_fd_data_def</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Data for file descriptor.  <a href="structinternal__fd__data__def.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreaddir__data__def.html">readdir_data_def</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Data for supplementary functions of readdir.  <a href="structreaddir__data__def.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfilldir__htab__entries__def.html">filldir_htab_entries_def</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure holding entries for filldir_htab.  <a href="structfilldir__htab__entries__def.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structinternal__fd__data__def.html">internal_fd_data_def</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#0128145d3c592e75bd30c6570b28b76d">internal_fd_data_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Data for file descriptor.  <a href="#0128145d3c592e75bd30c6570b28b76d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structreaddir__data__def.html">readdir_data_def</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#d7f90ebf0b03a75633201cb883c94ad4">readdir_data</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Data for supplementary functions of readdir.  <a href="#d7f90ebf0b03a75633201cb883c94ad4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structfilldir__htab__entries__def.html">filldir_htab_entries_def</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#e6da96e09a9b9d661566163cf8a8fca6">filldir_htab_entries</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure holding entries for filldir_htab.  <a href="#e6da96e09a9b9d661566163cf8a8fca6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef bool(*)&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#21c41dfd55f14bdf17612a0db1329e40">filldir_f</a> (uint32_t ino, int32_t cookie, const char *name, uint32_t name_len, <a class="el" href="structdir__list__def.html">dir_list</a> *list, <a class="el" href="structreaddir__data__def.html">readdir_data</a> *data)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#e488e8eaf5ad5d06d7bcccda82cabd32">local_close</a> (<a class="el" href="structinternal__fh__def.html">internal_fh</a> fh)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#5a94116f0fdf83f3c8c06fad9a222975">cond_remote_close</a> (<a class="el" href="structzfs__cap__def.html">zfs_cap</a> *cap, <a class="el" href="structinternal__cap__def.html">internal_cap</a> icap, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> *dentryp, <a class="el" href="structvolume__def.html">volume</a> *volp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#f5492f88134447c046584ae07539ecc4">local_create</a> (<a class="el" href="structcreate__res__def.html">create_res</a> *res, int *fdp, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dir, <a class="el" href="structstring__def.html">string</a> *name, uint32_t flags, <a class="el" href="structsattr__def.html">sattr</a> *attr, <a class="el" href="structvolume__def.html">volume</a> vol, <a class="el" href="structmetadata__def.html">metadata</a> *meta, bool *exists)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#02b64e336c36701ea61af78d7920233b">remote_create</a> (<a class="el" href="structcreate__res__def.html">create_res</a> *res, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dir, <a class="el" href="structstring__def.html">string</a> *name, uint32_t flags, <a class="el" href="structsattr__def.html">sattr</a> *attr, <a class="el" href="structvolume__def.html">volume</a> vol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#aaeab07c640f0d819c22ae1013f3b75f">zfs_create</a> (<a class="el" href="structcreate__res__def.html">create_res</a> *res, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *dir, <a class="el" href="structstring__def.html">string</a> *name, uint32_t flags, <a class="el" href="structsattr__def.html">sattr</a> *attr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#19b5dfdee3f1d9c41e7e8185f78564d9">cond_remote_open</a> (<a class="el" href="structzfs__cap__def.html">zfs_cap</a> *cap, <a class="el" href="structinternal__cap__def.html">internal_cap</a> icap, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> *dentryp, <a class="el" href="structvolume__def.html">volume</a> *volp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#cdda7514c08404d56b10105f08bb610f">zfs_open</a> (<a class="el" href="structzfs__cap__def.html">zfs_cap</a> *cap, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh, uint32_t flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open file handle FH with open flags FLAGS and return capability in CAP.  <a href="#cdda7514c08404d56b10105f08bb610f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#e6c5d5579c0e5a9b78c74dfe879db8f0">zfs_close</a> (<a class="el" href="structzfs__cap__def.html">zfs_cap</a> *cap)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#ce53424da0ff8cf71ad7ee4ca4dbd0c3">filldir_encode</a> (uint32_t ino, int32_t cookie, const char *name, uint32_t name_len, <a class="el" href="structdir__list__def.html">dir_list</a> *list, <a class="el" href="structreaddir__data__def.html">readdir_data</a> *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#b1448138cd7f8060e6087519975aeadf">filldir_array</a> (uint32_t ino, int32_t cookie, const char *name, uint32_t name_len, <a class="el" href="structdir__list__def.html">dir_list</a> *list, ATTRIBUTE_UNUSED <a class="el" href="structreaddir__data__def.html">readdir_data</a> *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="hashtab_8h.html#fb05a131363b0de134535fc5f7b01dc0">hash_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#61a20ae2c7403b3ed82eb6345347aec2">filldir_htab_hash</a> (const void *x)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#096a2ad01902671b67161fea4a261845">filldir_htab_eq</a> (const void *xx, const void *yy)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#bad59e6c7ec965c8822c21335af21eb5">filldir_htab_del</a> (void *xx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#2a236c01f4d4c7f0e9ebdd9b8a355e2b">filldir_htab</a> (uint32_t ino, int32_t cookie, const char *name, uint32_t name_len, <a class="el" href="structdir__list__def.html">dir_list</a> *list, ATTRIBUTE_UNUSED <a class="el" href="structreaddir__data__def.html">readdir_data</a> *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#edf4da4b64bce10ef497a2ffa06f92c3">local_readdir</a> (<a class="el" href="structdir__list__def.html">dir_list</a> *list, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dentry, <a class="el" href="structvirtual__dir__def.html">virtual_dir</a> vd, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh, int32_t cookie, <a class="el" href="structreaddir__data__def.html">readdir_data</a> *data, <a class="el" href="structvolume__def.html">volume</a> vol, <a class="el" href="file_8h.html#21c41dfd55f14bdf17612a0db1329e40">filldir_f</a> filldir, bool convert_versions)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#8dd2a0235b429b16d563ed9027424e44">remote_readdir</a> (<a class="el" href="structdir__list__def.html">dir_list</a> *list, <a class="el" href="structinternal__cap__def.html">internal_cap</a> cap, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dentry, int32_t cookie, <a class="el" href="structreaddir__data__def.html">readdir_data</a> *data, <a class="el" href="structvolume__def.html">volume</a> vol, <a class="el" href="file_8h.html#21c41dfd55f14bdf17612a0db1329e40">filldir_f</a> filldir)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#0c3c776c145789856929e5fb60ab119e">zfs_readdir</a> (<a class="el" href="structdir__list__def.html">dir_list</a> *list, <a class="el" href="structzfs__cap__def.html">zfs_cap</a> *cap, int32_t cookie, uint32_t count, <a class="el" href="file_8h.html#21c41dfd55f14bdf17612a0db1329e40">filldir_f</a> filldir)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#2fd2095ebed1ddcd6b012076391b144d">zfs_read</a> (<a class="el" href="structread__res__def.html">read_res</a> *res, <a class="el" href="structzfs__cap__def.html">zfs_cap</a> *cap, uint64_t offset, uint32_t count, bool update)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#5f479cf7feaee8673df6554117a8a790">zfs_write</a> (<a class="el" href="structwrite__res__def.html">write_res</a> *res, <a class="el" href="structwrite__args__def.html">write_args</a> *args)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#e169d344137e15909e095b67f4217e32">full_local_readdir</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh, <a class="el" href="structfilldir__htab__entries__def.html">filldir_htab_entries</a> *entries)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#1a9e2ea90b96345292a0d444ba2fd69c">full_remote_readdir</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh, <a class="el" href="structfilldir__htab__entries__def.html">filldir_htab_entries</a> *entries)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#9308e8a624be68e87448d3b5a0efc3a8">full_local_read</a> (uint32_t *rcount, void *buffer, <a class="el" href="structzfs__cap__def.html">zfs_cap</a> *cap, uint64_t offset, uint32_t count, uint64_t *version)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#aac5ee7a4e74bb71cf344314ee4b9d1e">full_local_read_dentry</a> (uint32_t *rcount, void *buffer, <a class="el" href="structzfs__cap__def.html">zfs_cap</a> *cap, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dentry, <a class="el" href="structvolume__def.html">volume</a> vol, uint64_t offset, uint32_t count)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#e4501fb28e9701c91ad57410efa754eb">full_remote_read</a> (uint32_t *rcount, void *buffer, <a class="el" href="structzfs__cap__def.html">zfs_cap</a> *cap, uint64_t offset, uint32_t count, uint64_t *version)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#95e573e1159116ae212ebab885f72ffe">full_local_write</a> (uint32_t *rcount, void *buffer, <a class="el" href="structzfs__cap__def.html">zfs_cap</a> *cap, uint64_t offset, uint32_t count, uint64_t *version)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#f8d11f1e1fd3dc3ed12f273c65d74f9a">full_remote_write_dentry</a> (uint32_t *rcount, void *buffer, <a class="el" href="structzfs__cap__def.html">zfs_cap</a> *cap, <a class="el" href="structinternal__cap__def.html">internal_cap</a> icap, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dentry, <a class="el" href="structvolume__def.html">volume</a> vol, uint64_t offset, uint32_t count, uint64_t *version_increase)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#95b2778b292b86f3fb179e3376c4530c">local_md5sum</a> (<a class="el" href="structmd5sum__res__def.html">md5sum_res</a> *res, <a class="el" href="structmd5sum__args__def.html">md5sum_args</a> *args)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#ffe4365f26718969f42d58b6c2a77052">remote_md5sum</a> (<a class="el" href="structmd5sum__res__def.html">md5sum_res</a> *res, <a class="el" href="structmd5sum__args__def.html">md5sum_args</a> *args)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#c40dadc43c4e23b7f3988635cdf2f57c">remote_reread_config</a> (<a class="el" href="structstring__def.html">string</a> *path, <a class="el" href="structnode__def.html">node</a> nod)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#da448de7ae316ca429e9ff3e4c297caf">initialize_file_c</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2file_8h.html#b57d48aaa6215d458325418e02b9ec90">cleanup_file_c</a> (void)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
File operations. 
<p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="21c41dfd55f14bdf17612a0db1329e40"></a><!-- doxytag: member="backup/file.h::filldir_f" ref="21c41dfd55f14bdf17612a0db1329e40" args="(uint32_t ino, int32_t cookie, const char *name, uint32_t name_len, dir_list *list, readdir_data *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef bool(*) <a class="el" href="file_8h.html#21c41dfd55f14bdf17612a0db1329e40">filldir_f</a>(uint32_t ino, int32_t cookie, const char *name, uint32_t name_len, <a class="el" href="structdir__list__def.html">dir_list</a> *list, <a class="el" href="structreaddir__data__def.html">readdir_data</a> *data)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function called to add one directory entry to list. 
</div>
</div><p>
<a class="anchor" name="e6da96e09a9b9d661566163cf8a8fca6"></a><!-- doxytag: member="backup/file.h::filldir_htab_entries" ref="e6da96e09a9b9d661566163cf8a8fca6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structfilldir__htab__entries__def.html">filldir_htab_entries_def</a>  <a class="el" href="structfilldir__htab__entries__def.html">filldir_htab_entries</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Structure holding entries for filldir_htab. 
<p>

</div>
</div><p>
<a class="anchor" name="0128145d3c592e75bd30c6570b28b76d"></a><!-- doxytag: member="backup/file.h::internal_fd_data_t" ref="0128145d3c592e75bd30c6570b28b76d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structinternal__fd__data__def.html">internal_fd_data_def</a>  <a class="el" href="structinternal__fd__data__def.html">internal_fd_data_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Data for file descriptor. 
<p>

</div>
</div><p>
<a class="anchor" name="d7f90ebf0b03a75633201cb883c94ad4"></a><!-- doxytag: member="backup/file.h::readdir_data" ref="d7f90ebf0b03a75633201cb883c94ad4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structreaddir__data__def.html">readdir_data_def</a>  <a class="el" href="structreaddir__data__def.html">readdir_data</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Data for supplementary functions of readdir. 
<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="b57d48aaa6215d458325418e02b9ec90"></a><!-- doxytag: member="backup/file.h::cleanup_file_c" ref="b57d48aaa6215d458325418e02b9ec90" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cleanup_file_c           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroy data structures in CAP.C. 
</div>
</div><p>
<a class="anchor" name="5a94116f0fdf83f3c8c06fad9a222975"></a><!-- doxytag: member="backup/file.h::cond_remote_close" ref="5a94116f0fdf83f3c8c06fad9a222975" args="(zfs_cap *cap, internal_cap icap, internal_dentry *dentryp, volume *volp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t cond_remote_close           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__cap__def.html">zfs_cap</a> *&nbsp;</td>
          <td class="paramname"> <em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__cap__def.html">internal_cap</a>&nbsp;</td>
          <td class="paramname"> <em>icap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a> *&nbsp;</td>
          <td class="paramname"> <em>dentryp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a> *&nbsp;</td>
          <td class="paramname"> <em>volp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Close remote file for capability CAP and ICAP of dentry DENTRY on volume VOL if we are the last user of it. 
</div>
</div><p>
<a class="anchor" name="19b5dfdee3f1d9c41e7e8185f78564d9"></a><!-- doxytag: member="backup/file.h::cond_remote_open" ref="19b5dfdee3f1d9c41e7e8185f78564d9" args="(zfs_cap *cap, internal_cap icap, internal_dentry *dentryp, volume *volp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t cond_remote_open           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__cap__def.html">zfs_cap</a> *&nbsp;</td>
          <td class="paramname"> <em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__cap__def.html">internal_cap</a>&nbsp;</td>
          <td class="paramname"> <em>icap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a> *&nbsp;</td>
          <td class="paramname"> <em>dentryp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a> *&nbsp;</td>
          <td class="paramname"> <em>volp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Open remote file for capability CAP if it is not opened yet. Store its dentry to DENTRYP and volume to VOLP. 
</div>
</div><p>
<a class="anchor" name="b1448138cd7f8060e6087519975aeadf"></a><!-- doxytag: member="backup/file.h::filldir_array" ref="b1448138cd7f8060e6087519975aeadf" args="(uint32_t ino, int32_t cookie, const char *name, uint32_t name_len, dir_list *list, ATTRIBUTE_UNUSED readdir_data *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool filldir_array           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>ino</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>name_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdir__list__def.html">dir_list</a> *&nbsp;</td>
          <td class="paramname"> <em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED <a class="el" href="structreaddir__data__def.html">readdir_data</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Store one directory entry (INO, COOKIE, NAME[NAME_LEN]) to array LIST-&gt;BUFFER. 
</div>
</div><p>
<a class="anchor" name="ce53424da0ff8cf71ad7ee4ca4dbd0c3"></a><!-- doxytag: member="backup/file.h::filldir_encode" ref="ce53424da0ff8cf71ad7ee4ca4dbd0c3" args="(uint32_t ino, int32_t cookie, const char *name, uint32_t name_len, dir_list *list, readdir_data *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool filldir_encode           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>ino</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>name_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdir__list__def.html">dir_list</a> *&nbsp;</td>
          <td class="paramname"> <em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structreaddir__data__def.html">readdir_data</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Encode one directory entry (INO, COOKIE, NAME[NAME_LEN]) to DC LIST-&gt;BUFFER. Additional data is passed in DATA. 
</div>
</div><p>
<a class="anchor" name="2a236c01f4d4c7f0e9ebdd9b8a355e2b"></a><!-- doxytag: member="backup/file.h::filldir_htab" ref="2a236c01f4d4c7f0e9ebdd9b8a355e2b" args="(uint32_t ino, int32_t cookie, const char *name, uint32_t name_len, dir_list *list, ATTRIBUTE_UNUSED readdir_data *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool filldir_htab           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>ino</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>name_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdir__list__def.html">dir_list</a> *&nbsp;</td>
          <td class="paramname"> <em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED <a class="el" href="structreaddir__data__def.html">readdir_data</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Store one directory entry (INO, COOKIE, NAME[NAME_LEN]) to hash table LIST-&gt;BUFFER. 
</div>
</div><p>
<a class="anchor" name="bad59e6c7ec965c8822c21335af21eb5"></a><!-- doxytag: member="backup/file.h::filldir_htab_del" ref="bad59e6c7ec965c8822c21335af21eb5" args="(void *xx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void filldir_htab_del           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>xx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free directory entry XX. 
</div>
</div><p>
<a class="anchor" name="096a2ad01902671b67161fea4a261845"></a><!-- doxytag: member="backup/file.h::filldir_htab_eq" ref="096a2ad01902671b67161fea4a261845" args="(const void *xx, const void *yy)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int filldir_htab_eq           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>xx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>yy</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compare directory entries XX and YY. 
</div>
</div><p>
<a class="anchor" name="61a20ae2c7403b3ed82eb6345347aec2"></a><!-- doxytag: member="backup/file.h::filldir_htab_hash" ref="61a20ae2c7403b3ed82eb6345347aec2" args="(const void *x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hashtab_8h.html#fb05a131363b0de134535fc5f7b01dc0">hash_t</a> filldir_htab_hash           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>x</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Hash function for directory entry X being inserted for filldir htab. 
</div>
</div><p>
<a class="anchor" name="9308e8a624be68e87448d3b5a0efc3a8"></a><!-- doxytag: member="backup/file.h::full_local_read" ref="9308e8a624be68e87448d3b5a0efc3a8" args="(uint32_t *rcount, void *buffer, zfs_cap *cap, uint64_t offset, uint32_t count, uint64_t *version)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t full_local_read           </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>rcount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__cap__def.html">zfs_cap</a> *&nbsp;</td>
          <td class="paramname"> <em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&nbsp;</td>
          <td class="paramname"> <em>version</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read as many bytes as possible of block of local file CAP starting at OFFSET which is COUNT bytes long, store the data to BUFFER and the number of bytes read to RCOUNT. 
</div>
</div><p>
<a class="anchor" name="aac5ee7a4e74bb71cf344314ee4b9d1e"></a><!-- doxytag: member="backup/file.h::full_local_read_dentry" ref="aac5ee7a4e74bb71cf344314ee4b9d1e" args="(uint32_t *rcount, void *buffer, zfs_cap *cap, internal_dentry dentry, volume vol, uint64_t offset, uint32_t count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t full_local_read_dentry           </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>rcount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__cap__def.html">zfs_cap</a> *&nbsp;</td>
          <td class="paramname"> <em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read as many bytes as possible of block of local file DENTRY with capability CAP on volume VOL starting at OFFSET which is COUNT bytes long, store the data to BUFFER and the number of bytes read to RCOUNT. 
</div>
</div><p>
<a class="anchor" name="e169d344137e15909e095b67f4217e32"></a><!-- doxytag: member="backup/file.h::full_local_readdir" ref="e169d344137e15909e095b67f4217e32" args="(zfs_fh *fh, filldir_htab_entries *entries)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t full_local_readdir           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfilldir__htab__entries__def.html">filldir_htab_entries</a> *&nbsp;</td>
          <td class="paramname"> <em>entries</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read complete contents of local directory FH and store it to ENTRIES. 
</div>
</div><p>
<a class="anchor" name="95e573e1159116ae212ebab885f72ffe"></a><!-- doxytag: member="backup/file.h::full_local_write" ref="95e573e1159116ae212ebab885f72ffe" args="(uint32_t *rcount, void *buffer, zfs_cap *cap, uint64_t offset, uint32_t count, uint64_t *version)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t full_local_write           </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>rcount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__cap__def.html">zfs_cap</a> *&nbsp;</td>
          <td class="paramname"> <em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&nbsp;</td>
          <td class="paramname"> <em>version</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write as many bytes as possible from BUFFER of length COUNT to local file CAP starting at OFFSET. Store the number of bytes read to RCOUNT. 
</div>
</div><p>
<a class="anchor" name="e4501fb28e9701c91ad57410efa754eb"></a><!-- doxytag: member="backup/file.h::full_remote_read" ref="e4501fb28e9701c91ad57410efa754eb" args="(uint32_t *rcount, void *buffer, zfs_cap *cap, uint64_t offset, uint32_t count, uint64_t *version)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t full_remote_read           </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>rcount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__cap__def.html">zfs_cap</a> *&nbsp;</td>
          <td class="paramname"> <em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&nbsp;</td>
          <td class="paramname"> <em>version</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read as many bytes as possible of block of remote file CAP starting at OFFSET which is COUNT bytes long, store the data to BUFFER and the number of bytes read to RCOUNT. 
</div>
</div><p>
<a class="anchor" name="1a9e2ea90b96345292a0d444ba2fd69c"></a><!-- doxytag: member="backup/file.h::full_remote_readdir" ref="1a9e2ea90b96345292a0d444ba2fd69c" args="(zfs_fh *fh, filldir_htab_entries *entries)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t full_remote_readdir           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfilldir__htab__entries__def.html">filldir_htab_entries</a> *&nbsp;</td>
          <td class="paramname"> <em>entries</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read complete contents of remote directory FH and store it to ENTRIES. 
</div>
</div><p>
<a class="anchor" name="f8d11f1e1fd3dc3ed12f273c65d74f9a"></a><!-- doxytag: member="backup/file.h::full_remote_write_dentry" ref="f8d11f1e1fd3dc3ed12f273c65d74f9a" args="(uint32_t *rcount, void *buffer, zfs_cap *cap, internal_cap icap, internal_dentry dentry, volume vol, uint64_t offset, uint32_t count, uint64_t *version_increase)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t full_remote_write_dentry           </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>rcount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__cap__def.html">zfs_cap</a> *&nbsp;</td>
          <td class="paramname"> <em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__cap__def.html">internal_cap</a>&nbsp;</td>
          <td class="paramname"> <em>icap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&nbsp;</td>
          <td class="paramname"> <em>version_increase</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write as many bytes as possible from BUFFER of length COUNT to remote file DENTRY with capability CAP and ICAP on volume VOL starting at OFFSET. Store the number of bytes read to RCOUNT. 
</div>
</div><p>
<a class="anchor" name="da448de7ae316ca429e9ff3e4c297caf"></a><!-- doxytag: member="backup/file.h::initialize_file_c" ref="da448de7ae316ca429e9ff3e4c297caf" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initialize_file_c           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize data structures in FILE.C. 
</div>
</div><p>
<a class="anchor" name="e488e8eaf5ad5d06d7bcccda82cabd32"></a><!-- doxytag: member="backup/file.h::local_close" ref="e488e8eaf5ad5d06d7bcccda82cabd32" args="(internal_fh fh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t local_close           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structinternal__fh__def.html">internal_fh</a>&nbsp;</td>
          <td class="paramname"> <em>fh</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Close local file for internal file handle FH. 
</div>
</div><p>
<a class="anchor" name="f5492f88134447c046584ae07539ecc4"></a><!-- doxytag: member="backup/file.h::local_create" ref="f5492f88134447c046584ae07539ecc4" args="(create_res *res, int *fdp, internal_dentry dir, string *name, uint32_t flags, sattr *attr, volume vol, metadata *meta, bool *exists)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t local_create           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcreate__res__def.html">create_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>fdp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsattr__def.html">sattr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmetadata__def.html">metadata</a> *&nbsp;</td>
          <td class="paramname"> <em>meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&nbsp;</td>
          <td class="paramname"> <em>exists</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create local file NAME in directory DIR on volume VOL with open flags FLAGS, set file attributes according to ATTR. Store the newly opened file descriptor to FDP, create results to RES and metadata to META. If file already exists set EXISTS. 
</div>
</div><p>
<a class="anchor" name="95b2778b292b86f3fb179e3376c4530c"></a><!-- doxytag: member="backup/file.h::local_md5sum" ref="95b2778b292b86f3fb179e3376c4530c" args="(md5sum_res *res, md5sum_args *args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t local_md5sum           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmd5sum__res__def.html">md5sum_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmd5sum__args__def.html">md5sum_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compute MD5 sum for ARGS-&gt;COUNT ranges starting at ARGS-&gt;OFFSET[i] with length ARGS-&gt;LENGTH[i] of local file ARGS-&gt;CAP and store them (together with the information about ranges) to RES. 
</div>
</div><p>
<a class="anchor" name="edf4da4b64bce10ef497a2ffa06f92c3"></a><!-- doxytag: member="backup/file.h::local_readdir" ref="edf4da4b64bce10ef497a2ffa06f92c3" args="(dir_list *list, internal_dentry dentry, virtual_dir vd, zfs_fh *fh, int32_t cookie, readdir_data *data, volume vol, filldir_f filldir, bool convert_versions)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t local_readdir           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdir__list__def.html">dir_list</a> *&nbsp;</td>
          <td class="paramname"> <em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvirtual__dir__def.html">virtual_dir</a>&nbsp;</td>
          <td class="paramname"> <em>vd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structreaddir__data__def.html">readdir_data</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="file_8h.html#21c41dfd55f14bdf17612a0db1329e40">filldir_f</a>&nbsp;</td>
          <td class="paramname"> <em>filldir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>convert_versions</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read COUNT bytes from local directory with DENTRY and virtual directory VD on volume VOL starting at position COOKIE. Store directory entries to LIST using function FILLDIR. 
</div>
</div><p>
<a class="anchor" name="02b64e336c36701ea61af78d7920233b"></a><!-- doxytag: member="backup/file.h::remote_create" ref="02b64e336c36701ea61af78d7920233b" args="(create_res *res, internal_dentry dir, string *name, uint32_t flags, sattr *attr, volume vol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t remote_create           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcreate__res__def.html">create_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsattr__def.html">sattr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create remote file NAME in directory DIR with open flags FLAGS, set file attributes according to ATTR. 
</div>
</div><p>
<a class="anchor" name="ffe4365f26718969f42d58b6c2a77052"></a><!-- doxytag: member="backup/file.h::remote_md5sum" ref="ffe4365f26718969f42d58b6c2a77052" args="(md5sum_res *res, md5sum_args *args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t remote_md5sum           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmd5sum__res__def.html">md5sum_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmd5sum__args__def.html">md5sum_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compute MD5 sum for ARGS-&gt;COUNT ranges starting at ARGS-&gt;OFFSET[i] with length ARGS-&gt;LENGTH[i] of remote file ARGS-&gt;CAP and store them (together with the information about ranges) to RES. 
</div>
</div><p>
<a class="anchor" name="8dd2a0235b429b16d563ed9027424e44"></a><!-- doxytag: member="backup/file.h::remote_readdir" ref="8dd2a0235b429b16d563ed9027424e44" args="(dir_list *list, internal_cap cap, internal_dentry dentry, int32_t cookie, readdir_data *data, volume vol, filldir_f filldir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t remote_readdir           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdir__list__def.html">dir_list</a> *&nbsp;</td>
          <td class="paramname"> <em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__cap__def.html">internal_cap</a>&nbsp;</td>
          <td class="paramname"> <em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structreaddir__data__def.html">readdir_data</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="file_8h.html#21c41dfd55f14bdf17612a0db1329e40">filldir_f</a>&nbsp;</td>
          <td class="paramname"> <em>filldir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read COUNT bytes from remote directory CAP of dentry DENTRY on volume VOL starting at position COOKIE. Store directory entries to LIST using function FILLDIR. 
</div>
</div><p>
<a class="anchor" name="c40dadc43c4e23b7f3988635cdf2f57c"></a><!-- doxytag: member="backup/file.h::remote_reread_config" ref="c40dadc43c4e23b7f3988635cdf2f57c" args="(string *path, node nod)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void remote_reread_config           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnode__def.html">node</a>&nbsp;</td>
          <td class="paramname"> <em>nod</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reread remote config file PATH (relative path WRT volume root). 
</div>
</div><p>
<a class="anchor" name="e6c5d5579c0e5a9b78c74dfe879db8f0"></a><!-- doxytag: member="backup/file.h::zfs_close" ref="e6c5d5579c0e5a9b78c74dfe879db8f0" args="(zfs_cap *cap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_close           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__cap__def.html">zfs_cap</a> *&nbsp;</td>
          <td class="paramname"> <em>cap</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Close capability CAP. 
</div>
</div><p>
<a class="anchor" name="aaeab07c640f0d819c22ae1013f3b75f"></a><!-- doxytag: member="backup/file.h::zfs_create" ref="aaeab07c640f0d819c22ae1013f3b75f" args="(create_res *res, zfs_fh *dir, string *name, uint32_t flags, sattr *attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_create           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcreate__res__def.html">create_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsattr__def.html">sattr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create file NAME in directory DIR with open flags FLAGS, set file attributes according to ATTR. 
</div>
</div><p>
<a class="anchor" name="cdda7514c08404d56b10105f08bb610f"></a><!-- doxytag: member="backup/file.h::zfs_open" ref="cdda7514c08404d56b10105f08bb610f" args="(zfs_cap *cap, zfs_fh *fh, uint32_t flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_open           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__cap__def.html">zfs_cap</a> *&nbsp;</td>
          <td class="paramname"> <em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Open file handle FH with open flags FLAGS and return capability in CAP. 
<p>

</div>
</div><p>
<a class="anchor" name="2fd2095ebed1ddcd6b012076391b144d"></a><!-- doxytag: member="backup/file.h::zfs_read" ref="2fd2095ebed1ddcd6b012076391b144d" args="(read_res *res, zfs_cap *cap, uint64_t offset, uint32_t count, bool update)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_read           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structread__res__def.html">read_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__cap__def.html">zfs_cap</a> *&nbsp;</td>
          <td class="paramname"> <em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>update_local</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read COUNT bytes from file CAP at offset OFFSET, store the results to RES. If UPDATE_LOCAL is true update the local file on copied volume. 
</div>
</div><p>
<a class="anchor" name="0c3c776c145789856929e5fb60ab119e"></a><!-- doxytag: member="backup/file.h::zfs_readdir" ref="0c3c776c145789856929e5fb60ab119e" args="(dir_list *list, zfs_cap *cap, int32_t cookie, uint32_t count, filldir_f filldir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_readdir           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdir__list__def.html">dir_list</a> *&nbsp;</td>
          <td class="paramname"> <em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__cap__def.html">zfs_cap</a> *&nbsp;</td>
          <td class="paramname"> <em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="file_8h.html#21c41dfd55f14bdf17612a0db1329e40">filldir_f</a>&nbsp;</td>
          <td class="paramname"> <em>filldir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read COUNT bytes from directory CAP starting at position COOKIE. Store directory entries to LIST using function FILLDIR. 
</div>
</div><p>
<a class="anchor" name="5f479cf7feaee8673df6554117a8a790"></a><!-- doxytag: member="backup/file.h::zfs_write" ref="5f479cf7feaee8673df6554117a8a790" args="(write_res *res, write_args *args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_write           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structwrite__res__def.html">write_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structwrite__args__def.html">write_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write to file. 
</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Aug 6 00:37:41 2010 for zlomekFS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
