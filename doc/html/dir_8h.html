<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>zlomekFS: dir.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul>
</div>
<div class="nav">
<a class="el" href="dir_21c430ab3b7001ae39034eae6f7edf71.html">zfsd</a></div>
<h1>dir.h File Reference</h1>Directory operations. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="system_8h-source.html">system.h</a>&quot;</code><br>
<code>#include &lt;inttypes.h&gt;</code><br>
<code>#include &lt;sys/types.h&gt;</code><br>
<code>#include &lt;sys/stat.h&gt;</code><br>
<code>#include &lt;unistd.h&gt;</code><br>
<code>#include &quot;<a class="el" href="fh_8h-source.html">fh.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="zfs-prot_8h-source.html">zfs-prot.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="volume_8h-source.html">volume.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="metadata_8h-source.html">metadata.h</a>&quot;</code><br>

<p>
<a href="dir_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#1ab13e92ad99af7afeb4d2fa1bcd670d">build_local_path</a> (<a class="el" href="structstring__def.html">string</a> *dst, <a class="el" href="structvolume__def.html">volume</a> vol, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dentry)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#9969c6013023932e4b999a86e3310692">build_local_path_name</a> (<a class="el" href="structstring__def.html">string</a> *dst, <a class="el" href="structvolume__def.html">volume</a> vol, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dentry, <a class="el" href="structstring__def.html">string</a> *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#6224a3683a7c98202c94b702994cad47">build_relative_path</a> (<a class="el" href="structstring__def.html">string</a> *dst, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dentry)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#c6187160837c89b46bef165a25464e02">build_relative_path_name</a> (<a class="el" href="structstring__def.html">string</a> *dst, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dentry, <a class="el" href="structstring__def.html">string</a> *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#b96a9ac7b4a9ca22d02e7ef155a59325">local_path_to_relative_path</a> (<a class="el" href="structstring__def.html">string</a> *dst, <a class="el" href="structvolume__def.html">volume</a> vol, <a class="el" href="structstring__def.html">string</a> *path)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#104dae74d09aed56df0dec3b5b872aa3">file_name_from_path</a> (<a class="el" href="structstring__def.html">string</a> *dst, <a class="el" href="structstring__def.html">string</a> *path)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#2a93962a13067e0eb1e411c1327414ef">recursive_unlink</a> (<a class="el" href="structstring__def.html">string</a> *path, uint32_t vid, bool destroy_dentry, bool journal_p, bool move_to_shadow_p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#5eac22536a3b27b4810e08647fbea30c">validate_operation_on_virtual_directory</a> (<a class="el" href="structvirtual__dir__def.html">virtual_dir</a> pvd, <a class="el" href="structstring__def.html">string</a> *name, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> *dir, uint32_t conflict_error)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#e8f7c2141a5ba11e71d977a991cfce9e">validate_operation_on_zfs_fh</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh, uint32_t conflict_error, uint32_t non_exist_error)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#c52461e8beedcfe65316cc69a3a832a6">validate_operation_on_volume_root</a> (<a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dentry, uint32_t conflict_error)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#850c7ab23a1301507afcd9a2d3a073b3">get_volume_root_remote</a> (<a class="el" href="structvolume__def.html">volume</a> vol, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *remote_fh, <a class="el" href="structfattr__def.html">fattr</a> *attr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#53560757accbb4af3cd943361103195c">get_volume_root_dentry</a> (<a class="el" href="structvolume__def.html">volume</a> vol, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> *dentryp, bool unlock_fh_mutex)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#47b50faa9e4d7745b90ec5e12830a1fe">zfs_volume_root</a> (<a class="el" href="structdir__op__res__def.html">dir_op_res</a> *res, uint32_t vid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#78b8ea10baeb929521bfc8da75025ea6">local_getattr_path_ns</a> (<a class="el" href="structfattr__def.html">fattr</a> *attr, <a class="el" href="structstring__def.html">string</a> *path)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#9380aa451a1e90652d8bb7ef34259c87">local_getattr</a> (<a class="el" href="structfattr__def.html">fattr</a> *attr, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dentry, <a class="el" href="structvolume__def.html">volume</a> vol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#29033fa55fb908fa17812d9c4016f0e7">remote_getattr</a> (<a class="el" href="structfattr__def.html">fattr</a> *attr, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dentry, <a class="el" href="structvolume__def.html">volume</a> vol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#d503b494ba50471b58166aab42580140">zfs_getattr</a> (<a class="el" href="structfattr__def.html">fattr</a> *fa, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#e8c4aaa943bfa7d93fc4f0e5f49b5df1">local_setattr_path</a> (<a class="el" href="structfattr__def.html">fattr</a> *fa, <a class="el" href="structstring__def.html">string</a> *path, <a class="el" href="structsattr__def.html">sattr</a> *sa)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#3355272936b38ac2977ffd8af218eaa5">local_setattr</a> (<a class="el" href="structfattr__def.html">fattr</a> *fa, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dentry, <a class="el" href="structsattr__def.html">sattr</a> *sa, <a class="el" href="structvolume__def.html">volume</a> vol, bool should_version)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#d1ab84e954366b3f15c9df15022a38e5">remote_setattr</a> (<a class="el" href="structfattr__def.html">fattr</a> *fa, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dentry, <a class="el" href="structsattr__def.html">sattr</a> *sa, <a class="el" href="structvolume__def.html">volume</a> vol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#4aa8b595d431678ee39bbe8d502fe6ce">zfs_setattr</a> (<a class="el" href="structfattr__def.html">fattr</a> *fa, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh, <a class="el" href="structsattr__def.html">sattr</a> *sa, bool should_version)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#6c800d8c2531248f5a381a30098e1de1">zfs_extended_lookup</a> (<a class="el" href="structdir__op__res__def.html">dir_op_res</a> *res, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *dir, char *path)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#e7a1d6fa38d4f06debf13dd89fff27c5">local_lookup</a> (<a class="el" href="structdir__op__res__def.html">dir_op_res</a> *res, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dir, <a class="el" href="structstring__def.html">string</a> *name, <a class="el" href="structvolume__def.html">volume</a> vol, <a class="el" href="structmetadata__def.html">metadata</a> *meta)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#3f31241831f3bb09b2958d2dc916bf21">remote_lookup</a> (<a class="el" href="structdir__op__res__def.html">dir_op_res</a> *res, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dir, <a class="el" href="structstring__def.html">string</a> *name, <a class="el" href="structvolume__def.html">volume</a> vol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#f60f588dd254f28b367f457d6b6ed5e9">remote_lookup_zfs_fh</a> (<a class="el" href="structdir__op__res__def.html">dir_op_res</a> *res, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *dir, <a class="el" href="structstring__def.html">string</a> *name, <a class="el" href="structvolume__def.html">volume</a> vol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#23b076c102a87814d63256a6078cb4d8">zfs_lookup</a> (<a class="el" href="structdir__op__res__def.html">dir_op_res</a> *res, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *dir, <a class="el" href="structstring__def.html">string</a> *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#df5a1123e169a16c95505cde53f68045">local_mkdir</a> (<a class="el" href="structdir__op__res__def.html">dir_op_res</a> *res, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dir, <a class="el" href="structstring__def.html">string</a> *name, <a class="el" href="structsattr__def.html">sattr</a> *attr, <a class="el" href="structvolume__def.html">volume</a> vol, <a class="el" href="structmetadata__def.html">metadata</a> *meta)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#137136877adac6798fd2a38e60aeb99a">remote_mkdir</a> (<a class="el" href="structdir__op__res__def.html">dir_op_res</a> *res, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dir, <a class="el" href="structstring__def.html">string</a> *name, <a class="el" href="structsattr__def.html">sattr</a> *attr, <a class="el" href="structvolume__def.html">volume</a> vol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#3f64d05b27d13814e649a3260cebdeb5">zfs_mkdir</a> (<a class="el" href="structdir__op__res__def.html">dir_op_res</a> *res, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *dir, <a class="el" href="structstring__def.html">string</a> *name, <a class="el" href="structsattr__def.html">sattr</a> *attr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#df3a608fc237ed562be2dd6c78de1b50">zfs_rmdir</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *dir, <a class="el" href="structstring__def.html">string</a> *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#dc227f5833ebbacb7190bf871ca2e078">zfs_rename</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *from_dir, <a class="el" href="structstring__def.html">string</a> *from_name, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *to_dir, <a class="el" href="structstring__def.html">string</a> *to_name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#91b61222dc5d4740e0295c86862f8a49">zfs_link</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *from, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *dir, <a class="el" href="structstring__def.html">string</a> *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#a9acfda8b68908e86b62f7b4c2bb318a">zfs_unlink</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *dir, <a class="el" href="structstring__def.html">string</a> *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#851ae5358f5ce98651c4ec33012f7956">local_readlink</a> (<a class="el" href="structread__link__res__def.html">read_link_res</a> *res, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> file, <a class="el" href="structvolume__def.html">volume</a> vol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#39ac9a4449a031763f16a018eb43aaff">local_readlink_name</a> (<a class="el" href="structread__link__res__def.html">read_link_res</a> *res, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dir, <a class="el" href="structstring__def.html">string</a> *name, <a class="el" href="structvolume__def.html">volume</a> vol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#9c58b1014190a13f06c8e8543250b75c">remote_readlink</a> (<a class="el" href="structread__link__res__def.html">read_link_res</a> *res, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> file, <a class="el" href="structvolume__def.html">volume</a> vol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#9f434aaabaf11bf8c3f2d659ee370ff4">remote_readlink_zfs_fh</a> (<a class="el" href="structread__link__res__def.html">read_link_res</a> *res, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh, <a class="el" href="structvolume__def.html">volume</a> vol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#61d17edd5f4f7d4ea3a5b17439233446">zfs_readlink</a> (<a class="el" href="structread__link__res__def.html">read_link_res</a> *res, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#0f37dae9e1b5a423c5e3a98b6f163139">local_symlink</a> (<a class="el" href="structdir__op__res__def.html">dir_op_res</a> *res, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dir, <a class="el" href="structstring__def.html">string</a> *name, <a class="el" href="structstring__def.html">string</a> *to, <a class="el" href="structsattr__def.html">sattr</a> *attr, <a class="el" href="structvolume__def.html">volume</a> vol, <a class="el" href="structmetadata__def.html">metadata</a> *meta)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#66a1cca7cf863e7430a1cd27d2c6b2b4">remote_symlink</a> (<a class="el" href="structdir__op__res__def.html">dir_op_res</a> *res, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dir, <a class="el" href="structstring__def.html">string</a> *name, <a class="el" href="structstring__def.html">string</a> *to, <a class="el" href="structsattr__def.html">sattr</a> *attr, <a class="el" href="structvolume__def.html">volume</a> vol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#5cd3939547181a6018317e522a76278a">zfs_symlink</a> (<a class="el" href="structdir__op__res__def.html">dir_op_res</a> *res, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *dir, <a class="el" href="structstring__def.html">string</a> *name, <a class="el" href="structstring__def.html">string</a> *to, <a class="el" href="structsattr__def.html">sattr</a> *attr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#e20ebe4a832ff897e3e5a486bad1cb33">local_mknod</a> (<a class="el" href="structdir__op__res__def.html">dir_op_res</a> *res, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dir, <a class="el" href="structstring__def.html">string</a> *name, <a class="el" href="structsattr__def.html">sattr</a> *attr, <a class="el" href="zfs-prot_8h.html#fd6f88a62c177fab51044d30a2bc4587">ftype</a> type, uint32_t rdev, <a class="el" href="structvolume__def.html">volume</a> vol, <a class="el" href="structmetadata__def.html">metadata</a> *meta)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#2057dbc57390be8960e2f66d1d2f0610">remote_mknod</a> (<a class="el" href="structdir__op__res__def.html">dir_op_res</a> *res, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dir, <a class="el" href="structstring__def.html">string</a> *name, <a class="el" href="structsattr__def.html">sattr</a> *attr, <a class="el" href="zfs-prot_8h.html#fd6f88a62c177fab51044d30a2bc4587">ftype</a> type, uint32_t rdev, <a class="el" href="structvolume__def.html">volume</a> vol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#6f431daf781852b2b57ece618145345a">zfs_mknod</a> (<a class="el" href="structdir__op__res__def.html">dir_op_res</a> *res, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *dir, <a class="el" href="structstring__def.html">string</a> *name, <a class="el" href="structsattr__def.html">sattr</a> *attr, <a class="el" href="zfs-prot_8h.html#fd6f88a62c177fab51044d30a2bc4587">ftype</a> type, uint32_t rdev)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#bfad5cba0ead5fbccb09840db4235210">local_file_info</a> (<a class="el" href="structfile__info__res__def.html">file_info_res</a> *res, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh, <a class="el" href="structvolume__def.html">volume</a> vol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#736d8c33ebf4ca64a88d7b70b4dc7ec0">remote_file_info</a> (<a class="el" href="structfile__info__res__def.html">file_info_res</a> *res, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh, <a class="el" href="structvolume__def.html">volume</a> vol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#3ca50568c08035d7709da2032dd7fd96">zfs_file_info</a> (<a class="el" href="structfile__info__res__def.html">file_info_res</a> *res, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#625590e10eb55837aeef8d96aeeceb3b">remote_reintegrate</a> (<a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dentry, char status, <a class="el" href="structvolume__def.html">volume</a> vol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#d16711e95bf872a7b4c50b9c1385f409">zfs_reintegrate</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh, char status)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#e5229cfc22e43e2461749087c7422a87">local_reintegrate_add</a> (<a class="el" href="structvolume__def.html">volume</a> vol, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dir, <a class="el" href="structstring__def.html">string</a> *name, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *dir_fh, bool journal)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#005e797ebdabfc88e5c4ba9c5cfff7ff">remote_reintegrate_add</a> (<a class="el" href="structvolume__def.html">volume</a> vol, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dir, <a class="el" href="structstring__def.html">string</a> *name, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *dir_fh)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#c60f35e14032efb01d3586e6465f8c67">zfs_reintegrate_add</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *dir, <a class="el" href="structstring__def.html">string</a> *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#1ea3c230de158d01ad8d518c2b8249bf">local_reintegrate_del_base</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh, <a class="el" href="structstring__def.html">string</a> *name, bool destroy_p, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *dir_fh, bool journal)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#4335699bf0aafee5b53d8758a1b9f8b2">local_reintegrate_del</a> (<a class="el" href="structvolume__def.html">volume</a> vol, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dir, <a class="el" href="structstring__def.html">string</a> *name, bool destroy_p, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *dir_fh, bool journal)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#f9682447dfa8dd2817f3ce7163c36e92">remote_reintegrate_del</a> (<a class="el" href="structvolume__def.html">volume</a> vol, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh, <a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dir, <a class="el" href="structstring__def.html">string</a> *name, bool destroy_p, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *dir_fh)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#f56fde72d1747882abbda95df28a9008">remote_reintegrate_del_zfs_fh</a> (<a class="el" href="structvolume__def.html">volume</a> vol, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *dir, <a class="el" href="structstring__def.html">string</a> *name, bool destroy_p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#48e73d04687df6980fab878e7149afec">zfs_reintegrate_del</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *dir, <a class="el" href="structstring__def.html">string</a> *name, bool destroy_p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#e621af2672afd9937e53cb3e472e7fd1">local_reintegrate_ver</a> (<a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dentry, uint64_t version_inc, <a class="el" href="structvolume__def.html">volume</a> vol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#daccd251bab14eb9064119df13928b4f">remote_reintegrate_ver</a> (<a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dentry, uint64_t version_inc, <a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh, <a class="el" href="structvolume__def.html">volume</a> vol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#6aa6ac491411f6d39da7e96bd5eac75a">zfs_reintegrate_ver</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh, uint64_t version_inc)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#2e356ce418c68adbbf70305d891088cd">local_invalidate_fh</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#62f8f3b4fce6e34fd68efd0b71148d8a">local_invalidate</a> (<a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dentry, bool volume_root_p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_8h.html#70b6fbf968676c72a47d38e4ad580270">refresh_fh</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Directory operations. 
<p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="1ab13e92ad99af7afeb4d2fa1bcd670d"></a><!-- doxytag: member="dir.h::build_local_path" ref="1ab13e92ad99af7afeb4d2fa1bcd670d" args="(string *dst, volume vol, internal_dentry dentry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void build_local_path           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dentry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the local path of file for dentry DENTRY on volume VOL. 
</div>
</div><p>
<a class="anchor" name="9969c6013023932e4b999a86e3310692"></a><!-- doxytag: member="dir.h::build_local_path_name" ref="9969c6013023932e4b999a86e3310692" args="(string *dst, volume vol, internal_dentry dentry, string *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t build_local_path_name           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the local path of file NAME in directory DENTRY on volume VOL. 
</div>
</div><p>
<a class="anchor" name="6224a3683a7c98202c94b702994cad47"></a><!-- doxytag: member="dir.h::build_relative_path" ref="6224a3683a7c98202c94b702994cad47" args="(string *dst, internal_dentry dentry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void build_relative_path           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dentry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return a path of file for dentry DENTRY relative to volume root. 
</div>
</div><p>
<a class="anchor" name="c6187160837c89b46bef165a25464e02"></a><!-- doxytag: member="dir.h::build_relative_path_name" ref="c6187160837c89b46bef165a25464e02" args="(string *dst, internal_dentry dentry, string *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void build_relative_path_name           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return a path of file NAME in directory DENTRY relative to volume root. 
</div>
</div><p>
<a class="anchor" name="104dae74d09aed56df0dec3b5b872aa3"></a><!-- doxytag: member="dir.h::file_name_from_path" ref="104dae74d09aed56df0dec3b5b872aa3" args="(string *dst, string *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void file_name_from_path           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return short file name from the path PATH. 
</div>
</div><p>
<a class="anchor" name="53560757accbb4af3cd943361103195c"></a><!-- doxytag: member="dir.h::get_volume_root_dentry" ref="53560757accbb4af3cd943361103195c" args="(volume vol, internal_dentry *dentryp, bool unlock_fh_mutex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t get_volume_root_dentry           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a> *&nbsp;</td>
          <td class="paramname"> <em>dentryp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>unlock_fh_mutex</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Update root of volume VOL, create an internal file handle for it and store it to IFH. On return, fh_mutex is unlocked on failure or if (unlock_fh_mutex). 
</div>
</div><p>
<a class="anchor" name="850c7ab23a1301507afcd9a2d3a073b3"></a><!-- doxytag: member="dir.h::get_volume_root_remote" ref="850c7ab23a1301507afcd9a2d3a073b3" args="(volume vol, zfs_fh *remote_fh, fattr *attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t get_volume_root_remote           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>remote_fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfattr__def.html">fattr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Store the remote file handle of root of volume VOL to REMOTE_FH and its attributes to ATTR. 
</div>
</div><p>
<a class="anchor" name="bfad5cba0ead5fbccb09840db4235210"></a><!-- doxytag: member="dir.h::local_file_info" ref="bfad5cba0ead5fbccb09840db4235210" args="(file_info_res *res, zfs_fh *fh, volume vol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t local_file_info           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfile__info__res__def.html">file_info_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check whether local file FH on volume VOL exists. 
</div>
</div><p>
<a class="anchor" name="9380aa451a1e90652d8bb7ef34259c87"></a><!-- doxytag: member="dir.h::local_getattr" ref="9380aa451a1e90652d8bb7ef34259c87" args="(fattr *attr, internal_dentry dentry, volume vol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t local_getattr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfattr__def.html">fattr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get attributes of local file DENTRY on volume VOL and store them to ATTR. 
</div>
</div><p>
<a class="anchor" name="78b8ea10baeb929521bfc8da75025ea6"></a><!-- doxytag: member="dir.h::local_getattr_path_ns" ref="78b8ea10baeb929521bfc8da75025ea6" args="(fattr *attr, string *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t local_getattr_path_ns           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfattr__def.html">fattr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="62f8f3b4fce6e34fd68efd0b71148d8a"></a><!-- doxytag: member="dir.h::local_invalidate" ref="62f8f3b4fce6e34fd68efd0b71148d8a" args="(internal_dentry dentry, bool volume_root_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t local_invalidate           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>volume_root_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Invalidate dentry DENTRY in kernel dentry cache. 
</div>
</div><p>
<a class="anchor" name="2e356ce418c68adbbf70305d891088cd"></a><!-- doxytag: member="dir.h::local_invalidate_fh" ref="2e356ce418c68adbbf70305d891088cd" args="(zfs_fh *fh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t local_invalidate_fh           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Invalidate file handle DENTRY in kernel dentry cache. 
</div>
</div><p>
<a class="anchor" name="e7a1d6fa38d4f06debf13dd89fff27c5"></a><!-- doxytag: member="dir.h::local_lookup" ref="e7a1d6fa38d4f06debf13dd89fff27c5" args="(dir_op_res *res, internal_dentry dir, string *name, volume vol, metadata *meta)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t local_lookup           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdir__op__res__def.html">dir_op_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmetadata__def.html">metadata</a> *&nbsp;</td>
          <td class="paramname"> <em>meta</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lookup local file NAME in directory DIR on volume VOL and store its file handle and attributes to RES. 
</div>
</div><p>
<a class="anchor" name="df5a1123e169a16c95505cde53f68045"></a><!-- doxytag: member="dir.h::local_mkdir" ref="df5a1123e169a16c95505cde53f68045" args="(dir_op_res *res, internal_dentry dir, string *name, sattr *attr, volume vol, metadata *meta)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t local_mkdir           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdir__op__res__def.html">dir_op_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsattr__def.html">sattr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmetadata__def.html">metadata</a> *&nbsp;</td>
          <td class="paramname"> <em>meta</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create directory NAME in local directory DIR on volume VOL, set owner, group and permitions according to ATTR. 
</div>
</div><p>
<a class="anchor" name="e20ebe4a832ff897e3e5a486bad1cb33"></a><!-- doxytag: member="dir.h::local_mknod" ref="e20ebe4a832ff897e3e5a486bad1cb33" args="(dir_op_res *res, internal_dentry dir, string *name, sattr *attr, ftype type, uint32_t rdev, volume vol, metadata *meta)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t local_mknod           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdir__op__res__def.html">dir_op_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsattr__def.html">sattr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zfs-prot_8h.html#fd6f88a62c177fab51044d30a2bc4587">ftype</a>&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>rdev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmetadata__def.html">metadata</a> *&nbsp;</td>
          <td class="paramname"> <em>meta</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create local special file NAME of type TYPE in directory DIR, set the attributes according to ATTR. If device is being created RDEV is its number. 
</div>
</div><p>
<a class="anchor" name="b96a9ac7b4a9ca22d02e7ef155a59325"></a><!-- doxytag: member="dir.h::local_path_to_relative_path" ref="b96a9ac7b4a9ca22d02e7ef155a59325" args="(string *dst, volume vol, string *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void local_path_to_relative_path           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return a pointer into PATH where path relative to volume root starts. 
</div>
</div><p>
<a class="anchor" name="851ae5358f5ce98651c4ec33012f7956"></a><!-- doxytag: member="dir.h::local_readlink" ref="851ae5358f5ce98651c4ec33012f7956" args="(read_link_res *res, internal_dentry file, volume vol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t local_readlink           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structread__link__res__def.html">read_link_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read local symlink FILE on volume VOL. 
</div>
</div><p>
<a class="anchor" name="39ac9a4449a031763f16a018eb43aaff"></a><!-- doxytag: member="dir.h::local_readlink_name" ref="39ac9a4449a031763f16a018eb43aaff" args="(read_link_res *res, internal_dentry dir, string *name, volume vol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t local_readlink_name           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structread__link__res__def.html">read_link_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read local symlink NAME in directroy DIR on volume VOL. 
</div>
</div><p>
<a class="anchor" name="e5229cfc22e43e2461749087c7422a87"></a><!-- doxytag: member="dir.h::local_reintegrate_add" ref="e5229cfc22e43e2461749087c7422a87" args="(volume vol, internal_dentry dir, string *name, zfs_fh *fh, zfs_fh *dir_fh, bool journal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t local_reintegrate_add           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>dir_fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>journal</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Name the local file handle FH as NAME in directory DIR with file handle DIR_FH on volume VOL by moving the file or linking it. 
</div>
</div><p>
<a class="anchor" name="4335699bf0aafee5b53d8758a1b9f8b2"></a><!-- doxytag: member="dir.h::local_reintegrate_del" ref="4335699bf0aafee5b53d8758a1b9f8b2" args="(volume vol, zfs_fh *fh, internal_dentry dir, string *name, bool destroy_p, zfs_fh *dir_fh, bool journal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t local_reintegrate_del           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>destroy_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>dir_fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>journal</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If DESTROY_P delete local file NAME and its subtree from directory DIR with file handle DIR_FH on volume VOL, otherwise move it to shadow. Add a record to journal if JOURNAL. 
</div>
</div><p>
<a class="anchor" name="1ea3c230de158d01ad8d518c2b8249bf"></a><!-- doxytag: member="dir.h::local_reintegrate_del_base" ref="1ea3c230de158d01ad8d518c2b8249bf" args="(zfs_fh *fh, string *name, bool destroy_p, zfs_fh *dir_fh, bool journal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t local_reintegrate_del_base           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>destroy_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>dir_fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>journal</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If DESTROY_P delete local file NAME with file handle FH and its subtree from directory DIR_FH, otherwise move it to shadow. Add a record to journal if JOURNAL. 
</div>
</div><p>
<a class="anchor" name="e621af2672afd9937e53cb3e472e7fd1"></a><!-- doxytag: member="dir.h::local_reintegrate_ver" ref="e621af2672afd9937e53cb3e472e7fd1" args="(internal_dentry dentry, uint64_t version_inc, volume vol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t local_reintegrate_ver           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>version_inc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Increase version of local file DENTRY on volume VOL by VERSION_INC. 
</div>
</div><p>
<a class="anchor" name="3355272936b38ac2977ffd8af218eaa5"></a><!-- doxytag: member="dir.h::local_setattr" ref="3355272936b38ac2977ffd8af218eaa5" args="(fattr *fa, internal_dentry dentry, sattr *sa, volume vol, bool should_version)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t local_setattr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfattr__def.html">fattr</a> *&nbsp;</td>
          <td class="paramname"> <em>fa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsattr__def.html">sattr</a> *&nbsp;</td>
          <td class="paramname"> <em>sa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>should_version</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set attributes of local file DENTRY on volume VOL according to SA, reget attributes and store them to FA. 
</div>
</div><p>
<a class="anchor" name="e8c4aaa943bfa7d93fc4f0e5f49b5df1"></a><!-- doxytag: member="dir.h::local_setattr_path" ref="e8c4aaa943bfa7d93fc4f0e5f49b5df1" args="(fattr *fa, string *path, sattr *sa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t local_setattr_path           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfattr__def.html">fattr</a> *&nbsp;</td>
          <td class="paramname"> <em>fa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsattr__def.html">sattr</a> *&nbsp;</td>
          <td class="paramname"> <em>sa</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set attributes of local file PATH according to SA, reget attributes and store them to FA. 
</div>
</div><p>
<a class="anchor" name="0f37dae9e1b5a423c5e3a98b6f163139"></a><!-- doxytag: member="dir.h::local_symlink" ref="0f37dae9e1b5a423c5e3a98b6f163139" args="(dir_op_res *res, internal_dentry dir, string *name, string *to, sattr *attr, volume vol, metadata *meta)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t local_symlink           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdir__op__res__def.html">dir_op_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsattr__def.html">sattr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmetadata__def.html">metadata</a> *&nbsp;</td>
          <td class="paramname"> <em>meta</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create local symlink NAME in directory DIR on volume VOL pointing to TO, set its attributes according to ATTR. 
</div>
</div><p>
<a class="anchor" name="2a93962a13067e0eb1e411c1327414ef"></a><!-- doxytag: member="dir.h::recursive_unlink" ref="2a93962a13067e0eb1e411c1327414ef" args="(string *path, uint32_t vid, bool destroy_dentry, bool journal_p, bool move_to_shadow_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t recursive_unlink           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>destroy_dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>journal_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>move_to_shadow_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Recursivelly unlink the file PATH on volume with ID == VID. If JOURNAL_P add a journal entries to appropriate journals. Destroy the dentries of the deleted files if DESTROY_DENTRY. 
</div>
</div><p>
<a class="anchor" name="70b6fbf968676c72a47d38e4ad580270"></a><!-- doxytag: member="dir.h::refresh_fh" ref="70b6fbf968676c72a47d38e4ad580270" args="(zfs_fh *fh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t refresh_fh           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Refresh file handle FH. 
</div>
</div><p>
<a class="anchor" name="736d8c33ebf4ca64a88d7b70b4dc7ec0"></a><!-- doxytag: member="dir.h::remote_file_info" ref="736d8c33ebf4ca64a88d7b70b4dc7ec0" args="(file_info_res *res, zfs_fh *fh, volume vol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t remote_file_info           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfile__info__res__def.html">file_info_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check whether remote file for FH on volume VOL exists. 
</div>
</div><p>
<a class="anchor" name="29033fa55fb908fa17812d9c4016f0e7"></a><!-- doxytag: member="dir.h::remote_getattr" ref="29033fa55fb908fa17812d9c4016f0e7" args="(fattr *attr, internal_dentry dentry, volume vol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t remote_getattr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfattr__def.html">fattr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get attributes of remote file DENTRY on volume VOL and store them to ATTR. 
</div>
</div><p>
<a class="anchor" name="3f31241831f3bb09b2958d2dc916bf21"></a><!-- doxytag: member="dir.h::remote_lookup" ref="3f31241831f3bb09b2958d2dc916bf21" args="(dir_op_res *res, internal_dentry dir, string *name, volume vol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t remote_lookup           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdir__op__res__def.html">dir_op_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lookup remote file NAME in directory DIR on volume VOL and store its file handle and attributes to RES. 
</div>
</div><p>
<a class="anchor" name="f60f588dd254f28b367f457d6b6ed5e9"></a><!-- doxytag: member="dir.h::remote_lookup_zfs_fh" ref="f60f588dd254f28b367f457d6b6ed5e9" args="(dir_op_res *res, zfs_fh *dir, string *name, volume vol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t remote_lookup_zfs_fh           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdir__op__res__def.html">dir_op_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lookup remote file NAME in directory DIR on volume VOL and store its file handle and attributes to RES. 
</div>
</div><p>
<a class="anchor" name="137136877adac6798fd2a38e60aeb99a"></a><!-- doxytag: member="dir.h::remote_mkdir" ref="137136877adac6798fd2a38e60aeb99a" args="(dir_op_res *res, internal_dentry dir, string *name, sattr *attr, volume vol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t remote_mkdir           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdir__op__res__def.html">dir_op_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsattr__def.html">sattr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create directory NAME in remote directory DIR on volume VOL, set owner, group and permitions according to ATTR. 
</div>
</div><p>
<a class="anchor" name="2057dbc57390be8960e2f66d1d2f0610"></a><!-- doxytag: member="dir.h::remote_mknod" ref="2057dbc57390be8960e2f66d1d2f0610" args="(dir_op_res *res, internal_dentry dir, string *name, sattr *attr, ftype type, uint32_t rdev, volume vol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t remote_mknod           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdir__op__res__def.html">dir_op_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsattr__def.html">sattr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zfs-prot_8h.html#fd6f88a62c177fab51044d30a2bc4587">ftype</a>&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>rdev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create remote special file NAME of type TYPE in directory DIR, set the attributes according to ATTR. If device is being created RDEV is its number. 
</div>
</div><p>
<a class="anchor" name="9c58b1014190a13f06c8e8543250b75c"></a><!-- doxytag: member="dir.h::remote_readlink" ref="9c58b1014190a13f06c8e8543250b75c" args="(read_link_res *res, internal_dentry file, volume vol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t remote_readlink           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structread__link__res__def.html">read_link_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read remote symlink FILE on volume VOL. 
</div>
</div><p>
<a class="anchor" name="9f434aaabaf11bf8c3f2d659ee370ff4"></a><!-- doxytag: member="dir.h::remote_readlink_zfs_fh" ref="9f434aaabaf11bf8c3f2d659ee370ff4" args="(read_link_res *res, zfs_fh *fh, volume vol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t remote_readlink_zfs_fh           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structread__link__res__def.html">read_link_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read remote symlink FH on volume VOL. 
</div>
</div><p>
<a class="anchor" name="625590e10eb55837aeef8d96aeeceb3b"></a><!-- doxytag: member="dir.h::remote_reintegrate" ref="625590e10eb55837aeef8d96aeeceb3b" args="(internal_dentry dentry, char status, volume vol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t remote_reintegrate           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Acquire (STATUS != 0) or release (STATUS == 0) the privilege to reintegrate remote file DENTRY on volume VOL. 
</div>
</div><p>
<a class="anchor" name="005e797ebdabfc88e5c4ba9c5cfff7ff"></a><!-- doxytag: member="dir.h::remote_reintegrate_add" ref="005e797ebdabfc88e5c4ba9c5cfff7ff" args="(volume vol, internal_dentry dir, string *name, zfs_fh *fh, zfs_fh *dir_fh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t remote_reintegrate_add           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>dir_fh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Name the remote file handle FH as NAME in directory DIR on volume VOL by moving the file or linking it. 
</div>
</div><p>
<a class="anchor" name="f9682447dfa8dd2817f3ce7163c36e92"></a><!-- doxytag: member="dir.h::remote_reintegrate_del" ref="f9682447dfa8dd2817f3ce7163c36e92" args="(volume vol, zfs_fh *fh, internal_dentry dir, string *name, bool destroy_p, zfs_fh *dir_fh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t remote_reintegrate_del           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>destroy_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>dir_fh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If DESTROY_P delete remote file NAME and its subtree from directory DIR with file handle DIR_FH, otherwise move it to shadow. 
</div>
</div><p>
<a class="anchor" name="f56fde72d1747882abbda95df28a9008"></a><!-- doxytag: member="dir.h::remote_reintegrate_del_zfs_fh" ref="f56fde72d1747882abbda95df28a9008" args="(volume vol, zfs_fh *fh, zfs_fh *dir, string *name, bool destroy_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t remote_reintegrate_del_zfs_fh           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>destroy_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If DESTROY_P delete remote file NAME and its subtree from directory DIR, otherwise move it to shadow. 
</div>
</div><p>
<a class="anchor" name="daccd251bab14eb9064119df13928b4f"></a><!-- doxytag: member="dir.h::remote_reintegrate_ver" ref="daccd251bab14eb9064119df13928b4f" args="(internal_dentry dentry, uint64_t version_inc, zfs_fh *fh, volume vol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t remote_reintegrate_ver           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>version_inc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Increase version of remote file handle FH with dentry DENTRY on volume VOL by VERSION_INC. 
</div>
</div><p>
<a class="anchor" name="d1ab84e954366b3f15c9df15022a38e5"></a><!-- doxytag: member="dir.h::remote_setattr" ref="d1ab84e954366b3f15c9df15022a38e5" args="(fattr *fa, internal_dentry dentry, sattr *sa, volume vol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t remote_setattr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfattr__def.html">fattr</a> *&nbsp;</td>
          <td class="paramname"> <em>fa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsattr__def.html">sattr</a> *&nbsp;</td>
          <td class="paramname"> <em>sa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set attributes of remote file DENTRY on volume VOL according to SA, reget attributes and store them to FA. 
</div>
</div><p>
<a class="anchor" name="66a1cca7cf863e7430a1cd27d2c6b2b4"></a><!-- doxytag: member="dir.h::remote_symlink" ref="66a1cca7cf863e7430a1cd27d2c6b2b4" args="(dir_op_res *res, internal_dentry dir, string *name, string *to, sattr *attr, volume vol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t remote_symlink           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdir__op__res__def.html">dir_op_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsattr__def.html">sattr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create remote symlink NAME in directory DIR on volume VOL pointing to TO, set its attributes according to ATTR. 
</div>
</div><p>
<a class="anchor" name="5eac22536a3b27b4810e08647fbea30c"></a><!-- doxytag: member="dir.h::validate_operation_on_virtual_directory" ref="5eac22536a3b27b4810e08647fbea30c" args="(virtual_dir pvd, string *name, internal_dentry *dir, uint32_t conflict_error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t validate_operation_on_virtual_directory           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvirtual__dir__def.html">virtual_dir</a>&nbsp;</td>
          <td class="paramname"> <em>pvd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a> *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>conflict_error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check whether we can perform file system change operation on NAME in virtual directory PVD. Resolve whether the is a volume mapped on PVD whose mounpoint name is not NAME and if so return ZFS_OK and store the internal dentry of the root of volume to DIR. If there is a volume mapped on PVD and its root is a conflict directory we can't do a file system change operation. 
</div>
</div><p>
<a class="anchor" name="c52461e8beedcfe65316cc69a3a832a6"></a><!-- doxytag: member="dir.h::validate_operation_on_volume_root" ref="c52461e8beedcfe65316cc69a3a832a6" args="(internal_dentry dentry, uint32_t conflict_error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t validate_operation_on_volume_root           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>conflict_error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check whether we can perform operation on volume root DENTRY. If DENTRY is a conflict directory return EINVAL if request came from network and CONFLICT_ERROR if request came from kernel. 
</div>
</div><p>
<a class="anchor" name="e8f7c2141a5ba11e71d977a991cfce9e"></a><!-- doxytag: member="dir.h::validate_operation_on_zfs_fh" ref="e8f7c2141a5ba11e71d977a991cfce9e" args="(zfs_fh *fh, uint32_t conflict_error, uint32_t non_exist_error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t validate_operation_on_zfs_fh           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>conflict_error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>non_exist_error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check whether we can perform operation on ZFS file handle FH. If request came from network return EINVAL for special file handles. Otherwise return CONFLICT_ERROR for conflict directory and NON_EXIST_ERROR for non-existing file. 
</div>
</div><p>
<a class="anchor" name="6c800d8c2531248f5a381a30098e1de1"></a><!-- doxytag: member="dir.h::zfs_extended_lookup" ref="6c800d8c2531248f5a381a30098e1de1" args="(dir_op_res *res, zfs_fh *dir, char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_extended_lookup           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdir__op__res__def.html">dir_op_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lookup path PATH from directory DIR and store the dir_op_res of the last component to RES. Skip conflict directories. 
</div>
</div><p>
<a class="anchor" name="3ca50568c08035d7709da2032dd7fd96"></a><!-- doxytag: member="dir.h::zfs_file_info" ref="3ca50568c08035d7709da2032dd7fd96" args="(file_info_res *res, zfs_fh *fh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_file_info           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfile__info__res__def.html">file_info_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check whether local file FH exists. 
</div>
</div><p>
<a class="anchor" name="d503b494ba50471b58166aab42580140"></a><!-- doxytag: member="dir.h::zfs_getattr" ref="d503b494ba50471b58166aab42580140" args="(fattr *fa, zfs_fh *fh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_getattr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfattr__def.html">fattr</a> *&nbsp;</td>
          <td class="paramname"> <em>fa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get attributes for file with handle FH and store them to FA. 
</div>
</div><p>
<a class="anchor" name="91b61222dc5d4740e0295c86862f8a49"></a><!-- doxytag: member="dir.h::zfs_link" ref="91b61222dc5d4740e0295c86862f8a49" args="(zfs_fh *from, zfs_fh *dir, string *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_link           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Link file FROM to be a file with NAME in directory DIR. 
</div>
</div><p>
<a class="anchor" name="23b076c102a87814d63256a6078cb4d8"></a><!-- doxytag: member="dir.h::zfs_lookup" ref="23b076c102a87814d63256a6078cb4d8" args="(dir_op_res *res, zfs_fh *dir, string *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_lookup           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdir__op__res__def.html">dir_op_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lookup file NAME in directory DIR and store its file handle and attributes to RES. 
</div>
</div><p>
<a class="anchor" name="3f64d05b27d13814e649a3260cebdeb5"></a><!-- doxytag: member="dir.h::zfs_mkdir" ref="3f64d05b27d13814e649a3260cebdeb5" args="(dir_op_res *res, zfs_fh *dir, string *name, sattr *attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_mkdir           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdir__op__res__def.html">dir_op_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsattr__def.html">sattr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create directory NAME in directory DIR, set owner, group and permitions according to ATTR. 
</div>
</div><p>
<a class="anchor" name="6f431daf781852b2b57ece618145345a"></a><!-- doxytag: member="dir.h::zfs_mknod" ref="6f431daf781852b2b57ece618145345a" args="(dir_op_res *res, zfs_fh *dir, string *name, sattr *attr, ftype type, uint32_t rdev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_mknod           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdir__op__res__def.html">dir_op_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsattr__def.html">sattr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zfs-prot_8h.html#fd6f88a62c177fab51044d30a2bc4587">ftype</a>&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>rdev</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create special file NAME of type TYPE in directory DIR, set the attributes according to ATTR. If device is being created RDEV is its number. 
</div>
</div><p>
<a class="anchor" name="61d17edd5f4f7d4ea3a5b17439233446"></a><!-- doxytag: member="dir.h::zfs_readlink" ref="61d17edd5f4f7d4ea3a5b17439233446" args="(read_link_res *res, zfs_fh *fh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_readlink           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structread__link__res__def.html">read_link_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read symlink FH. 
</div>
</div><p>
<a class="anchor" name="d16711e95bf872a7b4c50b9c1385f409"></a><!-- doxytag: member="dir.h::zfs_reintegrate" ref="d16711e95bf872a7b4c50b9c1385f409" args="(zfs_fh *fh, char status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_reintegrate           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>status</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Acquire (STATUS != 0) or release (STATUS == 0) the privilege to reintegrate file FH. 
</div>
</div><p>
<a class="anchor" name="c60f35e14032efb01d3586e6465f8c67"></a><!-- doxytag: member="dir.h::zfs_reintegrate_add" ref="c60f35e14032efb01d3586e6465f8c67" args="(zfs_fh *fh, zfs_fh *dir, string *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_reintegrate_add           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Name the file handle FH as NAME in directory DIR by moving the file or linking it. 
</div>
</div><p>
<a class="anchor" name="48e73d04687df6980fab878e7149afec"></a><!-- doxytag: member="dir.h::zfs_reintegrate_del" ref="48e73d04687df6980fab878e7149afec" args="(zfs_fh *fh, zfs_fh *dir, string *name, bool destroy_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_reintegrate_del           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>destroy_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If DESTROY_P delete file NAME and its subtree from directory DIR, otherwise move it to shadow. 
</div>
</div><p>
<a class="anchor" name="6aa6ac491411f6d39da7e96bd5eac75a"></a><!-- doxytag: member="dir.h::zfs_reintegrate_ver" ref="6aa6ac491411f6d39da7e96bd5eac75a" args="(zfs_fh *fh, uint64_t version_inc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_reintegrate_ver           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>version_inc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Increase version of file handle FH by VERSION_INC. 
</div>
</div><p>
<a class="anchor" name="dc227f5833ebbacb7190bf871ca2e078"></a><!-- doxytag: member="dir.h::zfs_rename" ref="dc227f5833ebbacb7190bf871ca2e078" args="(zfs_fh *from_dir, string *from_name, zfs_fh *to_dir, string *to_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_rename           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>from_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>from_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>to_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>to_name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Rename file FROM_NAME in directory FROM_DIR to file TO_NAME in directory TO_DIR. 
</div>
</div><p>
<a class="anchor" name="df3a608fc237ed562be2dd6c78de1b50"></a><!-- doxytag: member="dir.h::zfs_rmdir" ref="df3a608fc237ed562be2dd6c78de1b50" args="(zfs_fh *dir, string *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_rmdir           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remove directory NAME from directory DIR. 
</div>
</div><p>
<a class="anchor" name="4aa8b595d431678ee39bbe8d502fe6ce"></a><!-- doxytag: member="dir.h::zfs_setattr" ref="4aa8b595d431678ee39bbe8d502fe6ce" args="(fattr *fa, zfs_fh *fh, sattr *sa, bool should_version)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_setattr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfattr__def.html">fattr</a> *&nbsp;</td>
          <td class="paramname"> <em>fa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsattr__def.html">sattr</a> *&nbsp;</td>
          <td class="paramname"> <em>sa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>should_version</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set attributes of file with handle FH according to SA, reget attributes and store them to FA. 
</div>
</div><p>
<a class="anchor" name="5cd3939547181a6018317e522a76278a"></a><!-- doxytag: member="dir.h::zfs_symlink" ref="5cd3939547181a6018317e522a76278a" args="(dir_op_res *res, zfs_fh *dir, string *name, string *to, sattr *attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_symlink           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdir__op__res__def.html">dir_op_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsattr__def.html">sattr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create symlink NAME in directory DIR pointing to TO, set its attributes according to ATTR. 
</div>
</div><p>
<a class="anchor" name="a9acfda8b68908e86b62f7b4c2bb318a"></a><!-- doxytag: member="dir.h::zfs_unlink" ref="a9acfda8b68908e86b62f7b4c2bb318a" args="(zfs_fh *dir, string *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_unlink           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remove directory NAME from directory DIR. 
</div>
</div><p>
<a class="anchor" name="47b50faa9e4d7745b90ec5e12830a1fe"></a><!-- doxytag: member="dir.h::zfs_volume_root" ref="47b50faa9e4d7745b90ec5e12830a1fe" args="(dir_op_res *res, uint32_t vid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t zfs_volume_root           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdir__op__res__def.html">dir_op_res</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>vid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return file handle and attributes of root of volume VID. 
</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Aug 6 00:39:37 2010 for zlomekFS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
