<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>zlomekFS: zfs-prot.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul>
</div>
<div class="nav">
<a class="el" href="dir_21c430ab3b7001ae39034eae6f7edf71.html">zfsd</a></div>
<h1>zfs-prot.c File Reference</h1>ZFS protocol. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="system_8h-source.html">system.h</a>&quot;</code><br>
<code>#include &lt;inttypes.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;sys/types.h&gt;</code><br>
<code>#include &lt;sys/stat.h&gt;</code><br>
<code>#include &lt;unistd.h&gt;</code><br>
<code>#include &lt;errno.h&gt;</code><br>
<code>#include &quot;<a class="el" href="zfs-prot_8h-source.html">zfs-prot.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="pthread-wrapper_8h-source.html">pthread-wrapper.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="data-coding_8h-source.html">data-coding.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="config_8h-source.html">config.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="thread_8h-source.html">thread.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="network_8h-source.html">network.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="kernel_8h-source.html">kernel.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="node_8h-source.html">node.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="dir_8h-source.html">dir.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="file_8h-source.html">file.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="volume_8h-source.html">volume.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="log_8h-source.html">log.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="user-group_8h-source.html">user-group.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="zfs-prot_8def.html">zfs-prot.def</a>&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#6dc0079a338a959d8c9365c00c3bdf36">ZFS_CALL_CLIENT</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#430f3d979d2b20e9f28518b8366ab308">ZFS_CALL_KERNEL</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#f13257efb2c2f048be8111da8e45ca74">DEFINE_ZFS_PROC</a>(NUMBER, NAME, FUNCTION, ARGS, AUTH, CALL_MODE)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#6dc0079a338a959d8c9365c00c3bdf36">ZFS_CALL_CLIENT</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#f13257efb2c2f048be8111da8e45ca74">DEFINE_ZFS_PROC</a>(NUMBER, NAME, FUNCTION, ARGS, AUTH, CALL_MODE)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#e1ae502b9d22a5cf616a3ee749df423e">zfs_error</a> (int error)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#d1f6dff90cc4ebc7adf31ada0774900b">zfs_proc_null_server</a> (ATTRIBUTE_UNUSED void *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#bde5c8fc23ea0852e7f8370067c84c87">zfs_proc_ping_server</a> (<a class="el" href="structdata__buffer__def.html">data_buffer</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#a204458da3f453bf35980777473dbb5a">zfs_proc_root_server</a> (ATTRIBUTE_UNUSED void *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#d658c9bd94613388a6efd14fff3775fb">zfs_proc_volume_root_server</a> (<a class="el" href="structvolume__root__args__def.html">volume_root_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#0e136c1acd97bb928e4e78525d452fca">zfs_proc_getattr_server</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#b78550acfc50980fab6e32d07c058c12">zfs_proc_setattr_server</a> (<a class="el" href="structsetattr__args__def.html">setattr_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#6db4a310066b670b16d6d132d680459a">zfs_proc_lookup_server</a> (<a class="el" href="structdir__op__args__def.html">dir_op_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#9b69b834f461c05880b7df5be4d56eb7">zfs_proc_create_server</a> (<a class="el" href="structcreate__args__def.html">create_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#1341071969133fe443ea05c5543f4ffc">zfs_proc_open_server</a> (<a class="el" href="structopen__args__def.html">open_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#fb9dfa89d83b57345bdc9ab34774210a">zfs_proc_close_server</a> (<a class="el" href="structzfs__cap__def.html">zfs_cap</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#9ca763f66b41ec562025d5561cd8b80b">zfs_proc_readdir_server</a> (<a class="el" href="structread__dir__args__def.html">read_dir_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#e68e8799aff5362fb5951250b96be4f9">zfs_proc_mkdir_server</a> (<a class="el" href="structmkdir__args__def.html">mkdir_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#cf7ce098750d073e8ad0683c280c474c">zfs_proc_rmdir_server</a> (<a class="el" href="structdir__op__args__def.html">dir_op_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#bc9fb7242f263f6978aa36ba91e8e6f6">zfs_proc_rename_server</a> (<a class="el" href="structrename__args__def.html">rename_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#6f4fc504f2910fc4880327db1980d158">zfs_proc_link_server</a> (<a class="el" href="structlink__args__def.html">link_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#d79faad2f171d795580dda5cc8d9e03d">zfs_proc_unlink_server</a> (<a class="el" href="structdir__op__args__def.html">dir_op_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#8b380f3dddd9128f85a8455f7b3de6ec">zfs_proc_read_server</a> (<a class="el" href="structread__args__def.html">read_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#900a32d0883c48655d3894da2eb988ee">zfs_proc_write_server</a> (<a class="el" href="structwrite__args__def.html">write_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#9ba0caee011b790015404fd40f0991e5">zfs_proc_readlink_server</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#75295083e373d22531176138265bd433">zfs_proc_symlink_server</a> (<a class="el" href="structsymlink__args__def.html">symlink_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#f830c74efe18569cf214b4b7688c5db7">zfs_proc_mknod_server</a> (<a class="el" href="structmknod__args__def.html">mknod_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#702e865e615760adf690f30102c81761">zfs_proc_auth_stage1_server</a> (<a class="el" href="structauth__stage1__args__def.html">auth_stage1_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#23f41b231ec9ffb0bd8fd561515d3afe">zfs_proc_auth_stage2_server</a> (<a class="el" href="structauth__stage2__args__def.html">auth_stage2_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#f64e79b91783b304130ee771a8cbc4c4">zfs_proc_md5sum_server</a> (<a class="el" href="structmd5sum__args__def.html">md5sum_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#0f718013440f1d087c4fdb0ee93d8971">zfs_proc_file_info_server</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#e2682eee7bd31faf5b156b87392c2fe4">zfs_proc_reread_config_server</a> (<a class="el" href="structreread__config__args__def.html">reread_config_args</a> *args, ATTRIBUTE_UNUSED <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#daf39a4163f3f1b10bed8877465187c8">zfs_proc_reintegrate_server</a> (<a class="el" href="structreintegrate__args__def.html">reintegrate_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#b25c9dee936e0c2ad77088aaa2a016f5">zfs_proc_reintegrate_add_server</a> (<a class="el" href="structreintegrate__add__args__def.html">reintegrate_add_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#e8ce26164a2c358d69aac62e26b705a9">zfs_proc_reintegrate_del_server</a> (<a class="el" href="structreintegrate__del__args__def.html">reintegrate_del_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#8394b95617d14bf77b04271a94380de5">zfs_proc_reintegrate_ver_server</a> (<a class="el" href="structreintegrate__ver__args__def.html">reintegrate_ver_args</a> *args, <a class="el" href="structdata__coding__def.html">DC</a> *dc, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#15391d34507882f3540f22128ebceebd">zfs_strerror</a> (int32_t errnum)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#8653e030c60a4aa779c2f5a813aa9c54">initialize_zfs_prot_c</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#bc1ba93180d8ed0951b615996fe4d118">cleanup_zfs_prot_c</a> (void)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#ad320d337e9066211224772281f89d53">ftype2mode</a> [FT_LAST_AND_UNUSED] = {0, S_IFREG, S_IFDIR, S_IFLNK, S_IFBLK, S_IFCHR, S_IFSOCK, S_IFIFO}</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static volatile uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#2d443c7790532c952661166cf010cb17">request_id</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static pthread_mutex_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#8cb8150708ccf66427207d89db2dbdcf">request_id_mutex</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="zfs-prot_8c.html#b874ed13cc5b182af2e27a296eb1f6b0">call_statistics</a> [ZFS_PROC_LAST_AND_UNUSED]</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
ZFS protocol. 
<p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="f13257efb2c2f048be8111da8e45ca74"></a><!-- doxytag: member="zfs-prot.c::DEFINE_ZFS_PROC" ref="f13257efb2c2f048be8111da8e45ca74" args="(NUMBER, NAME, FUNCTION, ARGS, AUTH, CALL_MODE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFINE_ZFS_PROC          </td>
          <td>(</td>
          <td class="paramtype">NUMBER,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NAME,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FUNCTION,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ARGS,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AUTH,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CALL_MODE&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">int32_t                                                                 \
zfs_proc_##FUNCTION##_client (<a class="code" href="structthread__def.html" title="Definition of thread's variables.">thread</a> *t, ARGS *args, <a class="code" href="structnode__def.html" title="Node description.">node</a> nod, <span class="keywordtype">int</span> *<a class="code" href="structnode__def.html#a32d41c4b17b2042bb49c9efe17b21fc">fd</a>) \
{                                                                       \
  <a class="code" href="pthread-wrapper_8h.html#95827f9fd4ea169b4e65f6fdcd99d2f2">CHECK_MUTEX_LOCKED</a> (&amp;nod-&gt;mutex);                                     \
                                                                        \
  *<a class="code" href="structnode__def.html#a32d41c4b17b2042bb49c9efe17b21fc">fd</a> = <a class="code" href="network_8c.html#836f7c0bcb74cfb28215cc8aaae5c834">node_connect_and_authenticate</a> (t, nod, AUTH);                   \
  <span class="keywordflow">if</span> (*<a class="code" href="structnode__def.html#a32d41c4b17b2042bb49c9efe17b21fc">fd</a> &lt; 0)                                                          \
    {                                                                   \
      <span class="keywordflow">if</span> (t-&gt;retval &gt;= <a class="code" href="zfs-prot_8h.html#5d9b5888fde9f10e0c9520b4e138198f">ZFS_ERROR_HAS_DC_REPLY</a>)                          \
        <a class="code" href="log_8h.html#ef4ff7cf390aba5ab4172cca329a2c89">abort</a> ();                                                       \
      <span class="keywordflow">return</span> t-&gt;retval;                                                 \
    }                                                                   \
                                                                        \
  <span class="keywordflow">return</span> zfs_proc_##FUNCTION##_client_1 (t, args, *<a class="code" href="structnode__def.html#a32d41c4b17b2042bb49c9efe17b21fc">fd</a>);                 \
}
</pre></div>
</div>
</div><p>
<a class="anchor" name="f13257efb2c2f048be8111da8e45ca74"></a><!-- doxytag: member="zfs-prot.c::DEFINE_ZFS_PROC" ref="f13257efb2c2f048be8111da8e45ca74" args="(NUMBER, NAME, FUNCTION, ARGS, AUTH, CALL_MODE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFINE_ZFS_PROC          </td>
          <td>(</td>
          <td class="paramtype">NUMBER,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NAME,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FUNCTION,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ARGS,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AUTH,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CALL_MODE&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">int32_t                                                                 \
zfs_proc_##FUNCTION##_client_1 (<a class="code" href="structthread__def.html" title="Definition of thread's variables.">thread</a> *t, ARGS *args, <span class="keywordtype">int</span> <a class="code" href="structnode__def.html#a32d41c4b17b2042bb49c9efe17b21fc">fd</a>)          \
{                                                                       \
  uint32_t req_id;                                                      \
                                                                        \
  <a class="code" href="pthread-wrapper_8h.html#95827f9fd4ea169b4e65f6fdcd99d2f2">CHECK_MUTEX_LOCKED</a> (&amp;<a class="code" href="network_8c.html#968a4b6f8ee274080b42eae4c1fcfe59">fd_data_a</a>[<a class="code" href="structnode__def.html#a32d41c4b17b2042bb49c9efe17b21fc">fd</a>].<a class="code" href="structnode__def.html#fa76f9c3bc732fcf004f79162d1514e3">mutex</a>);                            \
                                                                        \
  <a class="code" href="pthread-wrapper_8h.html#caece81b25439c2b62fc4a3565586015">zfsd_mutex_lock</a> (&amp;<a class="code" href="zfs-prot_8c.html#8cb8150708ccf66427207d89db2dbdcf">request_id_mutex</a>);                                  \
  req_id = <a class="code" href="zfs-prot_8c.html#2d443c7790532c952661166cf010cb17">request_id</a>++;                                                \
  <a class="code" href="pthread-wrapper_8h.html#4fcd9fbd71fbb48b886209e08deba1bb">zfsd_mutex_unlock</a> (&amp;<a class="code" href="zfs-prot_8c.html#8cb8150708ccf66427207d89db2dbdcf">request_id_mutex</a>);                                \
  <a class="code" href="log_8h.html#176902b69c45a229b244f8c1568b58fa">message</a> (LOG_INFO, FACILITY_NET, <span class="stringliteral">"sending request: ID=%u fn=%u (%s)\n"</span>, req_id, NUMBER, #NAME);\
  <a class="code" href="data-coding_8c.html#fa2578d575d03baf49953e454b0f4e87">start_encoding</a> (t-&gt;dc_call);                                          \
  <a class="code" href="data-coding_8c.html#24cd0e3f52ec728ef9b2e3c3da5dd32c">encode_direction</a> (t-&gt;dc_call, CALL_MODE);                             \
  <a class="code" href="data-coding_8h.html#23a5071319e01e0f3e0ce794bba051c3">encode_request_id</a> (t-&gt;dc_call, req_id);                               \
  <a class="code" href="data-coding_8h.html#80bc155753f6e828e9ae19a173391217">encode_function</a> (t-&gt;dc_call, NUMBER);                                 \
  <span class="keywordflow">if</span> (!encode_##ARGS (t-&gt;dc_call, args))                                \
    {                                                                   \
      <a class="code" href="pthread-wrapper_8h.html#4fcd9fbd71fbb48b886209e08deba1bb">zfsd_mutex_unlock</a> (&amp;<a class="code" href="network_8c.html#968a4b6f8ee274080b42eae4c1fcfe59">fd_data_a</a>[<a class="code" href="structnode__def.html#a32d41c4b17b2042bb49c9efe17b21fc">fd</a>].<a class="code" href="structnode__def.html#fa76f9c3bc732fcf004f79162d1514e3">mutex</a>);                         \
      <span class="keywordflow">return</span> <a class="code" href="zfs-prot_8h.html#53cd888e949f59262cc5369f1c047f96">ZFS_REQUEST_TOO_LONG</a>;                                      \
    }                                                                   \
  <a class="code" href="data-coding_8c.html#87cfa620c59dba2e416fbc673f74d20e">finish_encoding</a> (t-&gt;dc_call);                                         \
                                                                        \
  <span class="keywordflow">if</span> (CALL_MODE == <a class="code" href="zfs-prot_8h.html#acbd42a6d30dcbe852b7054956eb52f17197be9d6b2b7000026806c39cd8b9f6">DIR_ONEWAY</a>)                                          \
    <a class="code" href="network_8c.html#d28de2eece208354fd185b548c9e4c9b">send_oneway_request</a> (t, <a class="code" href="structnode__def.html#a32d41c4b17b2042bb49c9efe17b21fc">fd</a>);                                        \
  <span class="keywordflow">else</span>                                                                  \
    <a class="code" href="network_8c.html#00240b13a2f01abf8bd1a8491e1adde0" title="Helper function for sending request.">send_request</a> (t, req_id, <a class="code" href="structnode__def.html#a32d41c4b17b2042bb49c9efe17b21fc">fd</a>);                                       \
                                                                        \
  <span class="keywordflow">return</span> t-&gt;retval;                                                     \
}
</pre></div>
</div>
</div><p>
<a class="anchor" name="6dc0079a338a959d8c9365c00c3bdf36"></a><!-- doxytag: member="zfs-prot.c::ZFS_CALL_CLIENT" ref="6dc0079a338a959d8c9365c00c3bdf36" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZFS_CALL_CLIENT          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Call remote FUNCTION with ARGS using data structures in thread T and return its error code. Use FD for communication with remote node. 
</div>
</div><p>
<a class="anchor" name="6dc0079a338a959d8c9365c00c3bdf36"></a><!-- doxytag: member="zfs-prot.c::ZFS_CALL_CLIENT" ref="6dc0079a338a959d8c9365c00c3bdf36" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZFS_CALL_CLIENT          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Call remote FUNCTION with ARGS using data structures in thread T and return its error code. Use FD for communication with remote node. 
</div>
</div><p>
<a class="anchor" name="430f3d979d2b20e9f28518b8366ab308"></a><!-- doxytag: member="zfs-prot.c::ZFS_CALL_KERNEL" ref="430f3d979d2b20e9f28518b8366ab308" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZFS_CALL_KERNEL          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="bc1ba93180d8ed0951b615996fe4d118"></a><!-- doxytag: member="zfs-prot.c::cleanup_zfs_prot_c" ref="bc1ba93180d8ed0951b615996fe4d118" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cleanup_zfs_prot_c           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Cleanup data structures needed by this module. 
</div>
</div><p>
<a class="anchor" name="8653e030c60a4aa779c2f5a813aa9c54"></a><!-- doxytag: member="zfs-prot.c::initialize_zfs_prot_c" ref="8653e030c60a4aa779c2f5a813aa9c54" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initialize_zfs_prot_c           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize data structures needed by this module. 
</div>
</div><p>
<a class="anchor" name="e1ae502b9d22a5cf616a3ee749df423e"></a><!-- doxytag: member="zfs-prot.c::zfs_error" ref="e1ae502b9d22a5cf616a3ee749df423e" args="(int error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zfs_error           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>error</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convert ZFS error to system error 
</div>
</div><p>
<a class="anchor" name="702e865e615760adf690f30102c81761"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_auth_stage1_server" ref="702e865e615760adf690f30102c81761" args="(auth_stage1_args *args, DC *dc, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_auth_stage1_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structauth__stage1__args__def.html">auth_stage1_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
string nodename zfs_proc_auth_stage1 (string nodename);<p>
1st stage of authentication. 
</div>
</div><p>
<a class="anchor" name="23f41b231ec9ffb0bd8fd561515d3afe"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_auth_stage2_server" ref="23f41b231ec9ffb0bd8fd561515d3afe" args="(auth_stage2_args *args, DC *dc, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_auth_stage2_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structauth__stage2__args__def.html">auth_stage2_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
void zfs_proc_auth_stage2 (uint8_t connection_speed);<p>
2nd stage of authentication. 
</div>
</div><p>
<a class="anchor" name="fb9dfa89d83b57345bdc9ab34774210a"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_close_server" ref="fb9dfa89d83b57345bdc9ab34774210a" args="(zfs_cap *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_close_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__cap__def.html">zfs_cap</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
void zfs_proc_close (zfs_cap);<p>
Close the file or directory. 
</div>
</div><p>
<a class="anchor" name="9b69b834f461c05880b7df5be4d56eb7"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_create_server" ref="9b69b834f461c05880b7df5be4d56eb7" args="(create_args *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_create_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcreate__args__def.html">create_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
zfs_cap, zfs_fh, fattr zfs_proc_create (zfs_fh dir, string filename, uint32_t flags, sattr attr);<p>
Create the file. <code>flags</code> are O_*, as defined in &lt;fcntl.h&gt;. 
</div>
</div><p>
<a class="anchor" name="0f718013440f1d087c4fdb0ee93d8971"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_file_info_server" ref="0f718013440f1d087c4fdb0ee93d8971" args="(zfs_fh *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_file_info_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
string zfs_proc_file_info (zfs_fh);<p>
Get relative path for the file handle. 
</div>
</div><p>
<a class="anchor" name="0e136c1acd97bb928e4e78525d452fca"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_getattr_server" ref="0e136c1acd97bb928e4e78525d452fca" args="(zfs_fh *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_getattr_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
fattr zfs_proc_getattr (zfs_fh);<p>
Get attributes of the file. 
</div>
</div><p>
<a class="anchor" name="6f4fc504f2910fc4880327db1980d158"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_link_server" ref="6f4fc504f2910fc4880327db1980d158" args="(link_args *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_link_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlink__args__def.html">link_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
void zfs_proc_link (zfs_fh from, zfs_fh to_dir, string to_filename);<p>
Link the file. 
</div>
</div><p>
<a class="anchor" name="6db4a310066b670b16d6d132d680459a"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_lookup_server" ref="6db4a310066b670b16d6d132d680459a" args="(dir_op_args *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_lookup_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdir__op__args__def.html">dir_op_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
zfs_fh, fattr zfs_proc_lookup (zfs_fh dir, string filename);<p>
Lookup the file name. 
</div>
</div><p>
<a class="anchor" name="f64e79b91783b304130ee771a8cbc4c4"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_md5sum_server" ref="f64e79b91783b304130ee771a8cbc4c4" args="(md5sum_args *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_md5sum_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmd5sum__args__def.html">md5sum_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
uint32_t count, uint32_t __unused, uint64_t size, uint64_t version, uint64_t offset[count], uint32_t length[count], uint8_t md5sum[count][<a class="el" href="md5_8h.html#346b45663bfa5a41fb49acad0845bfd8">MD5_SIZE</a>] zfs_proc_md5sum (zfs_cap cap, uint32_t count, int8_t ignore_changes, uint64_t offset[count], uint32_t length[count]);<p>
Compute MD5 sum of file blocks. The operation fails with <a class="el" href="zfs-prot_8h.html#54cccd44d548af28d7dfc2f9bf00e1a7">ZFS_CHANGED</a> if the file is changed while computing the hash value unless <code>ignore_changes</code> is nonzero. 
</div>
</div><p>
<a class="anchor" name="e68e8799aff5362fb5951250b96be4f9"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_mkdir_server" ref="e68e8799aff5362fb5951250b96be4f9" args="(mkdir_args *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_mkdir_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmkdir__args__def.html">mkdir_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
zfs_fh, fattr zfs_proc_mkdir (zfs_fh dir, string filename, sattr attr);<p>
Create the directory. 
</div>
</div><p>
<a class="anchor" name="f830c74efe18569cf214b4b7688c5db7"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_mknod_server" ref="f830c74efe18569cf214b4b7688c5db7" args="(mknod_args *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_mknod_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmknod__args__def.html">mknod_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
zfs_fh, fattr zfs_proc_mknod (zfs_fh dir, string filename, sattr attr, ftype type, uint32_t rdev);<p>
Create the special file. 
</div>
</div><p>
<a class="anchor" name="d1f6dff90cc4ebc7adf31ada0774900b"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_null_server" ref="d1f6dff90cc4ebc7adf31ada0774900b" args="(ATTRIBUTE_UNUSED void *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_null_server           </td>
          <td>(</td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
void zfs_proc_null (void)<p>
Do nothing. Just test whether the requests can be sent. 
</div>
</div><p>
<a class="anchor" name="1341071969133fe443ea05c5543f4ffc"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_open_server" ref="1341071969133fe443ea05c5543f4ffc" args="(open_args *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_open_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structopen__args__def.html">open_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
zfs_cap zfs_proc_open (zfs_fh file, uint32_t flags);<p>
Open the file or directory. <code>flags</code> are O_*, as defined in &lt;fcntl.h&gt;. 
</div>
</div><p>
<a class="anchor" name="bde5c8fc23ea0852e7f8370067c84c87"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_ping_server" ref="bde5c8fc23ea0852e7f8370067c84c87" args="(data_buffer *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_ping_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdata__buffer__def.html">data_buffer</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
data_buffer zfs_proc_ping (data_buffer);<p>
Ping. The receiver sends back what the sender sent. 
</div>
</div><p>
<a class="anchor" name="8b380f3dddd9128f85a8455f7b3de6ec"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_read_server" ref="8b380f3dddd9128f85a8455f7b3de6ec" args="(read_args *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_read_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structread__args__def.html">read_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
data_buffer, uint64_t version zfs_proc_read (zfs_cap cap, uint64_t offset, uint32_t count);<p>
Read from the file. Returned <code>version</code> is the file version from which the data was read. 
</div>
</div><p>
<a class="anchor" name="9ca763f66b41ec562025d5561cd8b80b"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_readdir_server" ref="9ca763f66b41ec562025d5561cd8b80b" args="(read_dir_args *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_readdir_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structread__dir__args__def.html">read_dir_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
uint32_t count, int8_t eof, dir_entry... zfs_proc_readdir (zfs_cap cap, int32_t cookie, uint32_t size);<p>
Read the contents of the directory, returning at most <code>size</code> bytes of dentries, starting at the position specified by <code>cookie</code>. <code>cookie</code> can be 0 to start at the beginning, or a value returned by a prevous zfs_proc_readdir () operation.<p>
Return a sequence of of <code>count</code> directory entries; <code>eof</code> is non-zero if the end of the directory was reached.<p>
Each directory entry has the following structure:<ul>
<li><code>uint32_t ino</code></li><li><code>int32_t cookie</code>: can be used as a parameter in the following zfs_proc_readdir() operation to continue reading after this directory entry</li><li><code>string filename</code> </li></ul>

</div>
</div><p>
<a class="anchor" name="9ba0caee011b790015404fd40f0991e5"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_readlink_server" ref="9ba0caee011b790015404fd40f0991e5" args="(zfs_fh *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_readlink_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
string zfs_proc_readlink (zfs_fh);<p>
Read the symlink. 
</div>
</div><p>
<a class="anchor" name="b25c9dee936e0c2ad77088aaa2a016f5"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_reintegrate_add_server" ref="b25c9dee936e0c2ad77088aaa2a016f5" args="(reintegrate_add_args *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_reintegrate_add_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structreintegrate__add__args__def.html">reintegrate_add_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
void reintegrate_add (zfs_fh fh, zfs_fh dir, string filename);<p>
Add the file <code>fh</code> as <code>filename</code> in <code>dir</code>. If <code>fh</code> is a directory, it is moved there, otherwise a link is added without removing the original file. 
</div>
</div><p>
<a class="anchor" name="e8ce26164a2c358d69aac62e26b705a9"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_reintegrate_del_server" ref="e8ce26164a2c358d69aac62e26b705a9" args="(reintegrate_del_args *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_reintegrate_del_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structreintegrate__del__args__def.html">reintegrate_del_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
void reintegrate_del (zfs_fh fh, zfs_fh dir, string filename, int8_t destroy);<p>
Delete <code>filename</code> in <code>dir</code>, which is <code>fh</code>. If <code>destroy</code> is non-zero, delete it irreversibly, otherwise move it to a shadow directory. 
</div>
</div><p>
<a class="anchor" name="daf39a4163f3f1b10bed8877465187c8"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_reintegrate_server" ref="daf39a4163f3f1b10bed8877465187c8" args="(reintegrate_args *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_reintegrate_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structreintegrate__args__def.html">reintegrate_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
void reintegrate (zfs_fh fh, int8_t status);<p>
If <code>status</code> != 0, lock <code>fh</code> for reintegration (exclude other reintegration attempts); if <code>status</code> == 0, release the reintegration lock on <code>fh</code>.<p>
Note that reintegrate_ver () releases the reintegration lock as well. 
</div>
</div><p>
<a class="anchor" name="8394b95617d14bf77b04271a94380de5"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_reintegrate_ver_server" ref="8394b95617d14bf77b04271a94380de5" args="(reintegrate_ver_args *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_reintegrate_ver_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structreintegrate__ver__args__def.html">reintegrate_ver_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
void reintegrate_ver (zfs_fh fh, uint64_t version_inc);<p>
Increase the version of <code>fh</code> by <code>version_inc</code> and release the reintegration lock on <code>fh</code>. 
</div>
</div><p>
<a class="anchor" name="bc9fb7242f263f6978aa36ba91e8e6f6"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_rename_server" ref="bc9fb7242f263f6978aa36ba91e8e6f6" args="(rename_args *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_rename_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrename__args__def.html">rename_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
void zfs_proc_rename (zfs_fh from_dir, string from_filename, zfs_fh to_dir, string to_filename);<p>
Rename the file or directory. 
</div>
</div><p>
<a class="anchor" name="e2682eee7bd31faf5b156b87392c2fe4"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_reread_config_server" ref="e2682eee7bd31faf5b156b87392c2fe4" args="(reread_config_args *args, ATTRIBUTE_UNUSED DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_reread_config_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structreread__config__args__def.html">reread_config_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED <a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
N/A zfs_proc_reread_config (string path);<p>
Reread the configuration file specified by relative <code>path</code> within the configuration volume. An one-way request. 
</div>
</div><p>
<a class="anchor" name="cf7ce098750d073e8ad0683c280c474c"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_rmdir_server" ref="cf7ce098750d073e8ad0683c280c474c" args="(dir_op_args *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_rmdir_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdir__op__args__def.html">dir_op_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
void zfs_proc_rmdir (zfs_fh dir, string filename);<p>
Delete the directory. 
</div>
</div><p>
<a class="anchor" name="a204458da3f453bf35980777473dbb5a"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_root_server" ref="a204458da3f453bf35980777473dbb5a" args="(ATTRIBUTE_UNUSED void *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_root_server           </td>
          <td>(</td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
zfs_fh zfs_proc_root (void);<p>
Get file handle of root. 
</div>
</div><p>
<a class="anchor" name="b78550acfc50980fab6e32d07c058c12"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_setattr_server" ref="b78550acfc50980fab6e32d07c058c12" args="(setattr_args *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_setattr_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsetattr__args__def.html">setattr_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
fattr zfs_proc_setattr (zfs_fh file, sattr attr);<p>
Set attributes of the file. 
</div>
</div><p>
<a class="anchor" name="75295083e373d22531176138265bd433"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_symlink_server" ref="75295083e373d22531176138265bd433" args="(symlink_args *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_symlink_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsymlink__args__def.html">symlink_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
zfs_fh, fattr zfs_proc_symlink (zfs_fh from_dir, string from_filename, string to, sattr attr);<p>
Create the symlink. 
</div>
</div><p>
<a class="anchor" name="d79faad2f171d795580dda5cc8d9e03d"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_unlink_server" ref="d79faad2f171d795580dda5cc8d9e03d" args="(dir_op_args *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_unlink_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdir__op__args__def.html">dir_op_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
void zfs_proc_unlink (zfs_fh dir, string filename);<p>
Delete the file. 
</div>
</div><p>
<a class="anchor" name="d658c9bd94613388a6efd14fff3775fb"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_volume_root_server" ref="d658c9bd94613388a6efd14fff3775fb" args="(volume_root_args *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_volume_root_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvolume__root__args__def.html">volume_root_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
zfs_fh, fattr zfs_proc_volume_root (uint32_t vid);<p>
Get the file handle and attributes of the volume root. 
</div>
</div><p>
<a class="anchor" name="900a32d0883c48655d3894da2eb988ee"></a><!-- doxytag: member="zfs-prot.c::zfs_proc_write_server" ref="900a32d0883c48655d3894da2eb988ee" args="(write_args *args, DC *dc, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfs_proc_write_server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structwrite__args__def.html">write_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdata__coding__def.html">DC</a> *&nbsp;</td>
          <td class="paramname"> <em>dc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
uint32_t written, uint64_t version zfs_proc_write (zfs_cap cap, uint64_t offset, data_buffer data);<p>
Write to the file. Returned <code>version</code> is the file version after writing the data. 
</div>
</div><p>
<a class="anchor" name="15391d34507882f3540f22128ebceebd"></a><!-- doxytag: member="zfs-prot.c::zfs_strerror" ref="15391d34507882f3540f22128ebceebd" args="(int32_t errnum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* zfs_strerror           </td>
          <td>(</td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>errnum</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return string describing error code. 
</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="b874ed13cc5b182af2e27a296eb1f6b0"></a><!-- doxytag: member="zfs-prot.c::call_statistics" ref="b874ed13cc5b182af2e27a296eb1f6b0" args="[ZFS_PROC_LAST_AND_UNUSED]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t <a class="el" href="zfs-prot_8h.html#b874ed13cc5b182af2e27a296eb1f6b0">call_statistics</a>[ZFS_PROC_LAST_AND_UNUSED]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Call statistics. 
</div>
</div><p>
<a class="anchor" name="ad320d337e9066211224772281f89d53"></a><!-- doxytag: member="zfs-prot.c::ftype2mode" ref="ad320d337e9066211224772281f89d53" args="[FT_LAST_AND_UNUSED]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="zfs-prot_8h.html#ad320d337e9066211224772281f89d53">ftype2mode</a>[FT_LAST_AND_UNUSED] = {0, S_IFREG, S_IFDIR, S_IFLNK, S_IFBLK, S_IFCHR, S_IFSOCK, S_IFIFO}          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Mapping file type -&gt; file mode. 
</div>
</div><p>
<a class="anchor" name="2d443c7790532c952661166cf010cb17"></a><!-- doxytag: member="zfs-prot.c::request_id" ref="2d443c7790532c952661166cf010cb17" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint32_t <a class="el" href="zfs-prot_8c.html#2d443c7790532c952661166cf010cb17">request_id</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Request ID for next call. 
</div>
</div><p>
<a class="anchor" name="8cb8150708ccf66427207d89db2dbdcf"></a><!-- doxytag: member="zfs-prot.c::request_id_mutex" ref="8cb8150708ccf66427207d89db2dbdcf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t <a class="el" href="zfs-prot_8c.html#8cb8150708ccf66427207d89db2dbdcf">request_id_mutex</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Mutex for accessing request_id. 
</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Aug 6 00:39:38 2010 for zlomekFS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
