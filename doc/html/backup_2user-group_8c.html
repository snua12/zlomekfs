<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>zlomekFS: user-group.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul>
</div>
<div class="nav">
<a class="el" href="dir_21c430ab3b7001ae39034eae6f7edf71.html">zfsd</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_ac94841c51e61ddc7acc56e12a771012.html">backup</a></div>
<h1>backup/user-group.c File Reference</h1>User and group functions. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="backup_2system_8h-source.html">system.h</a>&quot;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;inttypes.h&gt;</code><br>
<code>#include &lt;sys/types.h&gt;</code><br>
<code>#include &lt;pwd.h&gt;</code><br>
<code>#include &lt;grp.h&gt;</code><br>
<code>#include &quot;<a class="el" href="backup_2pthread-wrapper_8h-source.html">pthread-wrapper.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="backup_2log_8h-source.html">log.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="backup_2memory_8h-source.html">memory.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="backup_2user-group_8h-source.html">user-group.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="backup_2hashtab_8h-source.html">hashtab.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="backup_2alloc-pool_8h-source.html">alloc-pool.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="backup_2crc32_8h-source.html">crc32.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="backup_2node_8h-source.html">node.h</a>&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#ccffcba78db3ce847b4c9bda94820746">USER_ID_HASH</a>(ID)&nbsp;&nbsp;&nbsp;(ID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#6a396a4b0b8aff215f07b2f6e22e74db">GROUP_ID_HASH</a>(ID)&nbsp;&nbsp;&nbsp;(ID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#06724e05ce0b185302c1e9d50cf0c20a">USER_NAME_HASH</a>(NAME)&nbsp;&nbsp;&nbsp;(crc32_buffer ((NAME).str, (NAME).len))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#26136089365dd2a891e508a13687aeae">GROUP_NAME_HASH</a>(NAME)&nbsp;&nbsp;&nbsp;(crc32_buffer ((NAME).str, (NAME).len))</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="hashtab_8h.html#fb05a131363b0de134535fc5f7b01dc0">hash_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#001c6d8cc0a9cae9c35209b3f1ccf880">users_id_hash</a> (const void *x)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="hashtab_8h.html#fb05a131363b0de134535fc5f7b01dc0">hash_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#3d01f6ac3f8113767a020453bcee88ba">users_name_hash</a> (const void *x)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#638d05337b3da741db7d03c40a33f8af">users_id_eq</a> (const void *x, const void *y)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#ec650f208f76434663e687039983c70a">users_name_eq</a> (const void *x, const void *y)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="hashtab_8h.html#fb05a131363b0de134535fc5f7b01dc0">hash_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#64fe9c3e4b9dd409d2570d61c8885fad">groups_id_hash</a> (const void *x)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="hashtab_8h.html#fb05a131363b0de134535fc5f7b01dc0">hash_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#99170f6c863b15159cb04b2044494e2f">groups_name_hash</a> (const void *x)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#c7873be9ef030e6c12dbe1ff5965bece">groups_id_eq</a> (const void *x, const void *y)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#0516da45e7dd310bb8406ad9f378d161">groups_name_eq</a> (const void *x, const void *y)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structuser__def.html">user_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#be03f42a89f5fddc96fdb7cf103ab638">user_create</a> (uint32_t id, <a class="el" href="structstring__def.html">string</a> *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structuser__def.html">user_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#1dfc3517e6c6b71082535fd60efb65b0">user_lookup</a> (uint32_t id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#ac3f6646c63673b21d2323b5f415295b">user_destroy</a> (<a class="el" href="structuser__def.html">user_t</a> u)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structgroup__def.html">group_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#c5696a89a5e2054430bc57f79d14c410">group_create</a> (uint32_t id, <a class="el" href="structstring__def.html">string</a> *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structgroup__def.html">group_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#eb7884cdf558c5672df1fbeb6a5d57a9">group_lookup</a> (uint32_t id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#a3fc045c6d43b361322f9e23d2c51159">group_destroy</a> (<a class="el" href="structgroup__def.html">group_t</a> g)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="hashtab_8h.html#fb05a131363b0de134535fc5f7b01dc0">hash_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#f27cb9342b9e91436e17754846eed19e">map_id_to_node_hash</a> (const void *x)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="hashtab_8h.html#fb05a131363b0de134535fc5f7b01dc0">hash_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#633f62e731cf196cd1154eed8dbcc1db">map_id_to_zfs_hash</a> (const void *x)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#b8730a606e376705e2329e875c2c2620">map_id_to_node_eq</a> (const void *x, const void *y)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#33f21ddb83fe05b6696d34c6ad562256">map_id_to_zfs_eq</a> (const void *x, const void *y)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structid__mapping__def.html">id_mapping</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#3283841f4f7fa22bdc01b2da55f0a590">user_mapping_create</a> (<a class="el" href="structstring__def.html">string</a> *zfs_user, <a class="el" href="structstring__def.html">string</a> *node_user, <a class="el" href="structnode__def.html">node</a> nod)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#10740325de4f543eb2b071753382ea93">user_mapping_destroy</a> (<a class="el" href="structid__mapping__def.html">id_mapping</a> map, <a class="el" href="structnode__def.html">node</a> nod)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#73c565e586e248ef0c088e41035b0844">set_default_user_mapping</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#38272cf870d2033492981658b7658251">user_mapping_destroy_all</a> (<a class="el" href="structnode__def.html">node</a> nod)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structid__mapping__def.html">id_mapping</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#c22c8cb79fafce7a3bcb0cd55735575b">group_mapping_create</a> (<a class="el" href="structstring__def.html">string</a> *zfs_group, <a class="el" href="structstring__def.html">string</a> *node_group, <a class="el" href="structnode__def.html">node</a> nod)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#cc447f5a9ad7b866d634423a08d3a574">group_mapping_destroy</a> (<a class="el" href="structid__mapping__def.html">id_mapping</a> map, <a class="el" href="structnode__def.html">node</a> nod)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#77c5c8c5a4cc68aa72cc5c2d814182a6">set_default_group_mapping</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#c54d7c71e191973c86f62c88a7f4424c">group_mapping_destroy_all</a> (<a class="el" href="structnode__def.html">node</a> nod)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#79f44396820e5b7e28649e37a636ca19">map_uid_zfs2node</a> (uint32_t uid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#c840ffedddbba21d866224596e03d966">map_uid_node2zfs</a> (uint32_t uid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#ad7943bdd007888deea0c21d16a89f48">map_gid_zfs2node</a> (uint32_t gid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#96013672ab1b8af6b533401cb85262fe">map_gid_node2zfs</a> (uint32_t gid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#ddedb4c7cf6665d45144661c08e47013">mark_all_users</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#3fb93736aaf61ff78642d98598870508">mark_all_groups</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#9100fb7e136f557fe4639dca47d6b803">mark_id_mapping</a> (<a class="el" href="structhtab__def.html">htab_t</a> htab)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#6971d062c1a95e7760e41eb6c75ecc2e">mark_user_mapping</a> (<a class="el" href="structnode__def.html">node</a> nod)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#3fefc8ea2b38dc2195aeaab290f17e28">mark_group_mapping</a> (<a class="el" href="structnode__def.html">node</a> nod)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#374b914945c35b41eb486ec9a1c3d86b">destroy_marked_users</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#06eea7495c3e590d2be4720fb39c1a03">destroy_marked_groups</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#441fb4fe532d3095ee7b869fc3ec6712">destroy_marked_user_mapping</a> (<a class="el" href="structnode__def.html">node</a> nod)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#36202217b8205de027fe6fe650f606ba">destroy_marked_group_mapping</a> (<a class="el" href="structnode__def.html">node</a> nod)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#fcbca0e7d23481a8bbc58da5bb9d1fbc">initialize_user_group_c</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#2716e9eeb98779beb4d6ab2dea6a2a5e">cleanup_user_group_c</a> (void)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structhtab__def.html">htab_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#7f1fd5a4bebf44e416a70f33d155886f">users_id</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structhtab__def.html">htab_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#7938d15990f6fb5441247d402264d89d">users_name</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structhtab__def.html">htab_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#1225c0346a6882b67183e281a60a5d24">groups_id</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structhtab__def.html">htab_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#e9ea36afd5befefe4bf759557fa2adfe">groups_name</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structhtab__def.html">htab_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#0c619a136f6438ac83d0ec5b063b2a77">map_uid_to_node</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structhtab__def.html">htab_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#91d4f4bb52a8ab8bfaac5504d06d25fc">map_uid_to_zfs</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structhtab__def.html">htab_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#78a721fa9eb9ed63f8f71b2fb6f2c3b1">map_gid_to_node</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structhtab__def.html">htab_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#eed34632b12c44471a56982bf68fde96">map_gid_to_zfs</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">pthread_mutex_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#8a5b9fa445930d3304e4885feb3f1b0b">users_groups_mutex</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#b387e7d0f061805752ad6fb24bd1b233">default_node_uid</a> = (uint32_t) -1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="backup_2user-group_8c.html#66468b54d8cca122bf2bffeb8a0c6952">default_node_gid</a> = (uint32_t) -1</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
User and group functions. 
<p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="6a396a4b0b8aff215f07b2f6e22e74db"></a><!-- doxytag: member="backup/user-group.c::GROUP_ID_HASH" ref="6a396a4b0b8aff215f07b2f6e22e74db" args="(ID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GROUP_ID_HASH          </td>
          <td>(</td>
          <td class="paramtype">ID&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(ID)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="26136089365dd2a891e508a13687aeae"></a><!-- doxytag: member="backup/user-group.c::GROUP_NAME_HASH" ref="26136089365dd2a891e508a13687aeae" args="(NAME)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GROUP_NAME_HASH          </td>
          <td>(</td>
          <td class="paramtype">NAME&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(crc32_buffer ((NAME).str, (NAME).len))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ccffcba78db3ce847b4c9bda94820746"></a><!-- doxytag: member="backup/user-group.c::USER_ID_HASH" ref="ccffcba78db3ce847b4c9bda94820746" args="(ID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USER_ID_HASH          </td>
          <td>(</td>
          <td class="paramtype">ID&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(ID)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Hash functions for user and group ID. 
</div>
</div><p>
<a class="anchor" name="06724e05ce0b185302c1e9d50cf0c20a"></a><!-- doxytag: member="backup/user-group.c::USER_NAME_HASH" ref="06724e05ce0b185302c1e9d50cf0c20a" args="(NAME)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USER_NAME_HASH          </td>
          <td>(</td>
          <td class="paramtype">NAME&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(crc32_buffer ((NAME).str, (NAME).len))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Hash functions for user and group NAME. 
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="2716e9eeb98779beb4d6ab2dea6a2a5e"></a><!-- doxytag: member="backup/user-group.c::cleanup_user_group_c" ref="2716e9eeb98779beb4d6ab2dea6a2a5e" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cleanup_user_group_c           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroy data structures in USER-GROUP.C. 
</div>
</div><p>
<a class="anchor" name="36202217b8205de027fe6fe650f606ba"></a><!-- doxytag: member="backup/user-group.c::destroy_marked_group_mapping" ref="36202217b8205de027fe6fe650f606ba" args="(node nod)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_marked_group_mapping           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnode__def.html">node</a>&nbsp;</td>
          <td class="paramname"> <em>nod</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroy marked group mapping. 
</div>
</div><p>
<a class="anchor" name="06eea7495c3e590d2be4720fb39c1a03"></a><!-- doxytag: member="backup/user-group.c::destroy_marked_groups" ref="06eea7495c3e590d2be4720fb39c1a03" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_marked_groups           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroy marked groups. 
</div>
</div><p>
<a class="anchor" name="441fb4fe532d3095ee7b869fc3ec6712"></a><!-- doxytag: member="backup/user-group.c::destroy_marked_user_mapping" ref="441fb4fe532d3095ee7b869fc3ec6712" args="(node nod)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_marked_user_mapping           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnode__def.html">node</a>&nbsp;</td>
          <td class="paramname"> <em>nod</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroy marked user mapping. 
</div>
</div><p>
<a class="anchor" name="374b914945c35b41eb486ec9a1c3d86b"></a><!-- doxytag: member="backup/user-group.c::destroy_marked_users" ref="374b914945c35b41eb486ec9a1c3d86b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_marked_users           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroy marked users. 
</div>
</div><p>
<a class="anchor" name="c5696a89a5e2054430bc57f79d14c410"></a><!-- doxytag: member="backup/user-group.c::group_create" ref="c5696a89a5e2054430bc57f79d14c410" args="(uint32_t id, string *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgroup__def.html">group_t</a> group_create           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a group with ID and NAME, its list of users is USER_LIST. 
</div>
</div><p>
<a class="anchor" name="a3fc045c6d43b361322f9e23d2c51159"></a><!-- doxytag: member="backup/user-group.c::group_destroy" ref="a3fc045c6d43b361322f9e23d2c51159" args="(group_t g)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void group_destroy           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgroup__def.html">group_t</a>&nbsp;</td>
          <td class="paramname"> <em>g</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroy group G. 
</div>
</div><p>
<a class="anchor" name="eb7884cdf558c5672df1fbeb6a5d57a9"></a><!-- doxytag: member="backup/user-group.c::group_lookup" ref="eb7884cdf558c5672df1fbeb6a5d57a9" args="(uint32_t id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structgroup__def.html">group_t</a> group_lookup           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>id</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lookup group by ID. 
</div>
</div><p>
<a class="anchor" name="c22c8cb79fafce7a3bcb0cd55735575b"></a><!-- doxytag: member="backup/user-group.c::group_mapping_create" ref="c22c8cb79fafce7a3bcb0cd55735575b" args="(string *zfs_group, string *node_group, node nod)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structid__mapping__def.html">id_mapping</a> group_mapping_create           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>zfs_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>node_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnode__def.html">node</a>&nbsp;</td>
          <td class="paramname"> <em>nod</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add mapping between ZFS group name ZFS_GROUP and node group name NODE_GROUP for node NOD. If NOD is NULL add it to default mapping. 
</div>
</div><p>
<a class="anchor" name="cc447f5a9ad7b866d634423a08d3a574"></a><!-- doxytag: member="backup/user-group.c::group_mapping_destroy" ref="cc447f5a9ad7b866d634423a08d3a574" args="(id_mapping map, node nod)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void group_mapping_destroy           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structid__mapping__def.html">id_mapping</a>&nbsp;</td>
          <td class="paramname"> <em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnode__def.html">node</a>&nbsp;</td>
          <td class="paramname"> <em>nod</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroy ID mapping MAP for node NOD. If NOD is NULL delete it from default mapping. 
</div>
</div><p>
<a class="anchor" name="c54d7c71e191973c86f62c88a7f4424c"></a><!-- doxytag: member="backup/user-group.c::group_mapping_destroy_all" ref="c54d7c71e191973c86f62c88a7f4424c" args="(node nod)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void group_mapping_destroy_all           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnode__def.html">node</a>&nbsp;</td>
          <td class="paramname"> <em>nod</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroy all group mappings between ZFS and node NOD. If NOD is NULL destroy default mapping. 
</div>
</div><p>
<a class="anchor" name="c7873be9ef030e6c12dbe1ff5965bece"></a><!-- doxytag: member="backup/user-group.c::groups_id_eq" ref="c7873be9ef030e6c12dbe1ff5965bece" args="(const void *x, const void *y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int groups_id_eq           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>y</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compare a group X with group ID Y. 
</div>
</div><p>
<a class="anchor" name="64fe9c3e4b9dd409d2570d61c8885fad"></a><!-- doxytag: member="backup/user-group.c::groups_id_hash" ref="64fe9c3e4b9dd409d2570d61c8885fad" args="(const void *x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="hashtab_8h.html#fb05a131363b0de134535fc5f7b01dc0">hash_t</a> groups_id_hash           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>x</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Hash function for group X, computed from ID. 
</div>
</div><p>
<a class="anchor" name="0516da45e7dd310bb8406ad9f378d161"></a><!-- doxytag: member="backup/user-group.c::groups_name_eq" ref="0516da45e7dd310bb8406ad9f378d161" args="(const void *x, const void *y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int groups_name_eq           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>y</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compare a group X with group name Y. 
</div>
</div><p>
<a class="anchor" name="99170f6c863b15159cb04b2044494e2f"></a><!-- doxytag: member="backup/user-group.c::groups_name_hash" ref="99170f6c863b15159cb04b2044494e2f" args="(const void *x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="hashtab_8h.html#fb05a131363b0de134535fc5f7b01dc0">hash_t</a> groups_name_hash           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>x</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Hash function for group X, computed from NAME. 
</div>
</div><p>
<a class="anchor" name="fcbca0e7d23481a8bbc58da5bb9d1fbc"></a><!-- doxytag: member="backup/user-group.c::initialize_user_group_c" ref="fcbca0e7d23481a8bbc58da5bb9d1fbc" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initialize_user_group_c           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize data structures in USER-GROUP.C. 
</div>
</div><p>
<a class="anchor" name="96013672ab1b8af6b533401cb85262fe"></a><!-- doxytag: member="backup/user-group.c::map_gid_node2zfs" ref="96013672ab1b8af6b533401cb85262fe" args="(uint32_t gid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t map_gid_node2zfs           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>gid</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Map (local) node GID to ZFS group ID. 
</div>
</div><p>
<a class="anchor" name="ad7943bdd007888deea0c21d16a89f48"></a><!-- doxytag: member="backup/user-group.c::map_gid_zfs2node" ref="ad7943bdd007888deea0c21d16a89f48" args="(uint32_t gid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t map_gid_zfs2node           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>gid</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Map ZFS group GID to (local) node group ID. 
</div>
</div><p>
<a class="anchor" name="b8730a606e376705e2329e875c2c2620"></a><!-- doxytag: member="backup/user-group.c::map_id_to_node_eq" ref="b8730a606e376705e2329e875c2c2620" args="(const void *x, const void *y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int map_id_to_node_eq           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>y</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compare ID mapping X with ZFS user/group ID Y. 
</div>
</div><p>
<a class="anchor" name="f27cb9342b9e91436e17754846eed19e"></a><!-- doxytag: member="backup/user-group.c::map_id_to_node_hash" ref="f27cb9342b9e91436e17754846eed19e" args="(const void *x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hashtab_8h.html#fb05a131363b0de134535fc5f7b01dc0">hash_t</a> map_id_to_node_hash           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>x</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Hash function for id_mapping, computed from ZFS_ID. 
</div>
</div><p>
<a class="anchor" name="33f21ddb83fe05b6696d34c6ad562256"></a><!-- doxytag: member="backup/user-group.c::map_id_to_zfs_eq" ref="33f21ddb83fe05b6696d34c6ad562256" args="(const void *x, const void *y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int map_id_to_zfs_eq           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>y</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compare ID mapping X with node user/group ID Y. 
</div>
</div><p>
<a class="anchor" name="633f62e731cf196cd1154eed8dbcc1db"></a><!-- doxytag: member="backup/user-group.c::map_id_to_zfs_hash" ref="633f62e731cf196cd1154eed8dbcc1db" args="(const void *x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hashtab_8h.html#fb05a131363b0de134535fc5f7b01dc0">hash_t</a> map_id_to_zfs_hash           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>x</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Hash function for id_mapping, computed from NODE_ID. 
</div>
</div><p>
<a class="anchor" name="c840ffedddbba21d866224596e03d966"></a><!-- doxytag: member="backup/user-group.c::map_uid_node2zfs" ref="c840ffedddbba21d866224596e03d966" args="(uint32_t uid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t map_uid_node2zfs           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>uid</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Map (local) node UID to ZFS user ID. 
</div>
</div><p>
<a class="anchor" name="79f44396820e5b7e28649e37a636ca19"></a><!-- doxytag: member="backup/user-group.c::map_uid_zfs2node" ref="79f44396820e5b7e28649e37a636ca19" args="(uint32_t uid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t map_uid_zfs2node           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>uid</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Map ZFS user UID to (local) node user ID. 
</div>
</div><p>
<a class="anchor" name="3fb93736aaf61ff78642d98598870508"></a><!-- doxytag: member="backup/user-group.c::mark_all_groups" ref="3fb93736aaf61ff78642d98598870508" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mark_all_groups           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Mark all groups. 
</div>
</div><p>
<a class="anchor" name="ddedb4c7cf6665d45144661c08e47013"></a><!-- doxytag: member="backup/user-group.c::mark_all_users" ref="ddedb4c7cf6665d45144661c08e47013" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mark_all_users           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Mark all users. 
</div>
</div><p>
<a class="anchor" name="3fefc8ea2b38dc2195aeaab290f17e28"></a><!-- doxytag: member="backup/user-group.c::mark_group_mapping" ref="3fefc8ea2b38dc2195aeaab290f17e28" args="(node nod)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mark_group_mapping           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnode__def.html">node</a>&nbsp;</td>
          <td class="paramname"> <em>nod</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Mark group mapping. If NOD is defined mark group mapping for node NOD otherwise mark the global group mapping. 
</div>
</div><p>
<a class="anchor" name="9100fb7e136f557fe4639dca47d6b803"></a><!-- doxytag: member="backup/user-group.c::mark_id_mapping" ref="9100fb7e136f557fe4639dca47d6b803" args="(htab_t htab)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mark_id_mapping           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhtab__def.html">htab_t</a>&nbsp;</td>
          <td class="paramname"> <em>htab</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Mark all id mappings in table HTAB. 
</div>
</div><p>
<a class="anchor" name="6971d062c1a95e7760e41eb6c75ecc2e"></a><!-- doxytag: member="backup/user-group.c::mark_user_mapping" ref="6971d062c1a95e7760e41eb6c75ecc2e" args="(node nod)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mark_user_mapping           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnode__def.html">node</a>&nbsp;</td>
          <td class="paramname"> <em>nod</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Mark user mapping. If NOD is defined mark user mapping for node NOD otherwise mark the global user mapping. 
</div>
</div><p>
<a class="anchor" name="77c5c8c5a4cc68aa72cc5c2d814182a6"></a><!-- doxytag: member="backup/user-group.c::set_default_group_mapping" ref="77c5c8c5a4cc68aa72cc5c2d814182a6" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_default_group_mapping           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
For each ZFS group try to create mapping "group" &lt;-&gt; "group". 
</div>
</div><p>
<a class="anchor" name="73c565e586e248ef0c088e41035b0844"></a><!-- doxytag: member="backup/user-group.c::set_default_user_mapping" ref="73c565e586e248ef0c088e41035b0844" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_default_user_mapping           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
For each ZFS user try to create mapping "user" &lt;-&gt; "user". 
</div>
</div><p>
<a class="anchor" name="be03f42a89f5fddc96fdb7cf103ab638"></a><!-- doxytag: member="backup/user-group.c::user_create" ref="be03f42a89f5fddc96fdb7cf103ab638" args="(uint32_t id, string *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structuser__def.html">user_t</a> user_create           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create an user with ID and NAME. 
</div>
</div><p>
<a class="anchor" name="ac3f6646c63673b21d2323b5f415295b"></a><!-- doxytag: member="backup/user-group.c::user_destroy" ref="ac3f6646c63673b21d2323b5f415295b" args="(user_t u)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void user_destroy           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structuser__def.html">user_t</a>&nbsp;</td>
          <td class="paramname"> <em>u</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroy user U. 
</div>
</div><p>
<a class="anchor" name="1dfc3517e6c6b71082535fd60efb65b0"></a><!-- doxytag: member="backup/user-group.c::user_lookup" ref="1dfc3517e6c6b71082535fd60efb65b0" args="(uint32_t id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structuser__def.html">user_t</a> user_lookup           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>id</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lookup user by ID. 
</div>
</div><p>
<a class="anchor" name="3283841f4f7fa22bdc01b2da55f0a590"></a><!-- doxytag: member="backup/user-group.c::user_mapping_create" ref="3283841f4f7fa22bdc01b2da55f0a590" args="(string *zfs_user, string *node_user, node nod)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structid__mapping__def.html">id_mapping</a> user_mapping_create           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>zfs_user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>node_user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnode__def.html">node</a>&nbsp;</td>
          <td class="paramname"> <em>nod</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add mapping between ZFS user name ZFS_USER and node user name NODE_USER for node NOD. If NOD is NULL add it to default mapping. 
</div>
</div><p>
<a class="anchor" name="10740325de4f543eb2b071753382ea93"></a><!-- doxytag: member="backup/user-group.c::user_mapping_destroy" ref="10740325de4f543eb2b071753382ea93" args="(id_mapping map, node nod)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void user_mapping_destroy           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structid__mapping__def.html">id_mapping</a>&nbsp;</td>
          <td class="paramname"> <em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnode__def.html">node</a>&nbsp;</td>
          <td class="paramname"> <em>nod</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroy ID mapping MAP for node NOD. If NOD is NULL delete it from default mapping. 
</div>
</div><p>
<a class="anchor" name="38272cf870d2033492981658b7658251"></a><!-- doxytag: member="backup/user-group.c::user_mapping_destroy_all" ref="38272cf870d2033492981658b7658251" args="(node nod)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void user_mapping_destroy_all           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnode__def.html">node</a>&nbsp;</td>
          <td class="paramname"> <em>nod</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroy all user mappings between ZFS and node NOD. If NOD is NULL destroy default mapping. 
</div>
</div><p>
<a class="anchor" name="638d05337b3da741db7d03c40a33f8af"></a><!-- doxytag: member="backup/user-group.c::users_id_eq" ref="638d05337b3da741db7d03c40a33f8af" args="(const void *x, const void *y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int users_id_eq           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>y</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compare an user X with user ID Y. 
</div>
</div><p>
<a class="anchor" name="001c6d8cc0a9cae9c35209b3f1ccf880"></a><!-- doxytag: member="backup/user-group.c::users_id_hash" ref="001c6d8cc0a9cae9c35209b3f1ccf880" args="(const void *x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="hashtab_8h.html#fb05a131363b0de134535fc5f7b01dc0">hash_t</a> users_id_hash           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>x</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Hash function for user X, computed from ID. 
</div>
</div><p>
<a class="anchor" name="ec650f208f76434663e687039983c70a"></a><!-- doxytag: member="backup/user-group.c::users_name_eq" ref="ec650f208f76434663e687039983c70a" args="(const void *x, const void *y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int users_name_eq           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>y</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compare an user X with user name Y. 
</div>
</div><p>
<a class="anchor" name="3d01f6ac3f8113767a020453bcee88ba"></a><!-- doxytag: member="backup/user-group.c::users_name_hash" ref="3d01f6ac3f8113767a020453bcee88ba" args="(const void *x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="hashtab_8h.html#fb05a131363b0de134535fc5f7b01dc0">hash_t</a> users_name_hash           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>x</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Hash function for user X, computed from NAME. 
</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="66468b54d8cca122bf2bffeb8a0c6952"></a><!-- doxytag: member="backup/user-group.c::default_node_gid" ref="66468b54d8cca122bf2bffeb8a0c6952" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="user-group_8h.html#66468b54d8cca122bf2bffeb8a0c6952">default_node_gid</a> = (uint32_t) -1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b387e7d0f061805752ad6fb24bd1b233"></a><!-- doxytag: member="backup/user-group.c::default_node_uid" ref="b387e7d0f061805752ad6fb24bd1b233" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="user-group_8h.html#b387e7d0f061805752ad6fb24bd1b233">default_node_uid</a> = (uint32_t) -1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
ID of default node user/group. 
</div>
</div><p>
<a class="anchor" name="1225c0346a6882b67183e281a60a5d24"></a><!-- doxytag: member="backup/user-group.c::groups_id" ref="1225c0346a6882b67183e281a60a5d24" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structhtab__def.html">htab_t</a> <a class="el" href="user-group_8c.html#1225c0346a6882b67183e281a60a5d24">groups_id</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e9ea36afd5befefe4bf759557fa2adfe"></a><!-- doxytag: member="backup/user-group.c::groups_name" ref="e9ea36afd5befefe4bf759557fa2adfe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structhtab__def.html">htab_t</a> <a class="el" href="user-group_8c.html#e9ea36afd5befefe4bf759557fa2adfe">groups_name</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="78a721fa9eb9ed63f8f71b2fb6f2c3b1"></a><!-- doxytag: member="backup/user-group.c::map_gid_to_node" ref="78a721fa9eb9ed63f8f71b2fb6f2c3b1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structhtab__def.html">htab_t</a> <a class="el" href="user-group_8c.html#78a721fa9eb9ed63f8f71b2fb6f2c3b1">map_gid_to_node</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="eed34632b12c44471a56982bf68fde96"></a><!-- doxytag: member="backup/user-group.c::map_gid_to_zfs" ref="eed34632b12c44471a56982bf68fde96" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structhtab__def.html">htab_t</a> <a class="el" href="user-group_8c.html#eed34632b12c44471a56982bf68fde96">map_gid_to_zfs</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="0c619a136f6438ac83d0ec5b063b2a77"></a><!-- doxytag: member="backup/user-group.c::map_uid_to_node" ref="0c619a136f6438ac83d0ec5b063b2a77" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structhtab__def.html">htab_t</a> <a class="el" href="user-group_8c.html#0c619a136f6438ac83d0ec5b063b2a77">map_uid_to_node</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tables for mapping between ZFS IDs and node IDs. 
</div>
</div><p>
<a class="anchor" name="91d4f4bb52a8ab8bfaac5504d06d25fc"></a><!-- doxytag: member="backup/user-group.c::map_uid_to_zfs" ref="91d4f4bb52a8ab8bfaac5504d06d25fc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structhtab__def.html">htab_t</a> <a class="el" href="user-group_8c.html#91d4f4bb52a8ab8bfaac5504d06d25fc">map_uid_to_zfs</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="8a5b9fa445930d3304e4885feb3f1b0b"></a><!-- doxytag: member="backup/user-group.c::users_groups_mutex" ref="8a5b9fa445930d3304e4885feb3f1b0b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t <a class="el" href="user-group_8h.html#8a5b9fa445930d3304e4885feb3f1b0b">users_groups_mutex</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Mutex protecting hash tables users_*, groups_*, map_*. 
</div>
</div><p>
<a class="anchor" name="7f1fd5a4bebf44e416a70f33d155886f"></a><!-- doxytag: member="backup/user-group.c::users_id" ref="7f1fd5a4bebf44e416a70f33d155886f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structhtab__def.html">htab_t</a> <a class="el" href="user-group_8c.html#7f1fd5a4bebf44e416a70f33d155886f">users_id</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tables of users and groups, searched by ID and by NAME. 
</div>
</div><p>
<a class="anchor" name="7938d15990f6fb5441247d402264d89d"></a><!-- doxytag: member="backup/user-group.c::users_name" ref="7938d15990f6fb5441247d402264d89d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structhtab__def.html">htab_t</a> <a class="el" href="user-group_8c.html#7938d15990f6fb5441247d402264d89d">users_name</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Aug 6 00:37:42 2010 for zlomekFS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
