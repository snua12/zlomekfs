<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>zlomekFS: config.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul>
</div>
<div class="nav">
<a class="el" href="dir_21c430ab3b7001ae39034eae6f7edf71.html">zfsd</a></div>
<h1>config.c File Reference</h1>Configuration. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="system_8h-source.html">system.h</a>&quot;</code><br>
<code>#include &lt;inttypes.h&gt;</code><br>
<code>#include &lt;sys/types.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;dirent.h&gt;</code><br>
<code>#include &lt;errno.h&gt;</code><br>
<code>#include &lt;pwd.h&gt;</code><br>
<code>#include &lt;grp.h&gt;</code><br>
<code>#include &lt;signal.h&gt;</code><br>
<code>#include &quot;<a class="el" href="pthread-wrapper_8h-source.html">pthread-wrapper.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="config_8h-source.html">config.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="constant_8h-source.html">constant.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="log_8h-source.html">log.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="memory_8h-source.html">memory.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="alloc-pool_8h-source.html">alloc-pool.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="semaphore_8h-source.html">semaphore.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="node_8h-source.html">node.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="volume_8h-source.html">volume.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="metadata_8h-source.html">metadata.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="user-group_8h-source.html">user-group.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="thread_8h-source.html">thread.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="fh_8h-source.html">fh.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="dir_8h-source.html">dir.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="file_8h-source.html">file.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="network_8h-source.html">network.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="zfsd_8h-source.html">zfsd.h</a>&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreread__config__request__def.html">reread_config_request_def</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Element of list of requests for config reread.  <a href="structreread__config__request__def.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvolume__hierarchy__data__def.html">volume_hierarchy_data_def</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Data for process_line_volume_hierarchy.  <a href="structvolume__hierarchy__data__def.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#ba889888734a8b272a51d444d70ad2fa">LINE_SIZE</a>&nbsp;&nbsp;&nbsp;2048</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#56e01aac0467722bd3ff3d0ce1e42452">PROCESS_THREAD_LIMITS</a>(KEY, LEN, ELEM)</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structreread__config__request__def.html">reread_config_request_def</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#ef9c5590405328bf09537ed6a621451f">reread_config_request</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structvolume__hierarchy__data__def.html">volume_hierarchy_data_def</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#35a7df4473b2b9ac8f2f8a0754203c33">volume_hierarchy_data</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Data for process_line_volume_hierarchy.  <a href="#35a7df4473b2b9ac8f2f8a0754203c33"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#dbf93a62702159ff36d5a032f1cc665e">process_line</a> (const char *file, const int line_num, char *line, char **key, char **value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#c8a0789db69f0905dc181f9abb59b377">split_and_trim</a> (char *line, int n, <a class="el" href="structstring__def.html">string</a> *parts)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#1b8977f01af9c394f262296b35aa7b6c">set_default_uid</a> (const char *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#d132b3f9b8f7c167d5f087ba29dabc23">set_default_gid</a> (const char *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#caa6806f4603602cc4fbf7e0933d36e2">set_default_uid_gid</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#b941d4761e5472910d000932e80e478d">read_private_key</a> (<a class="el" href="structstring__def.html">string</a> *key_file)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#17be8fc747be705b6fd5597c76e7c303">init_this_node</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#914d405937347564ed7c3af763abb837">read_local_volume_info</a> (<a class="el" href="structstring__def.html">string</a> *path, bool reread)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#ad9bbb06e542ce7e7b188cd6da7341cb">reread_local_volume_info</a> (<a class="el" href="structstring__def.html">string</a> *path)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#86ecda09379a018265789a3f8532dc2f">read_local_cluster_config</a> (<a class="el" href="structstring__def.html">string</a> *path)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#fe779f6a1f29b487f80c5c1bf10f89e7">init_config_volume</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#b3a5ec70f077ff0a1db4f2a083a05c24">process_file_by_lines</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *fh, const char *file_name, int(*process)(char *, const char *, unsigned int, void *), void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#4f745a2ba9ad2538f0e9cedaf973fd4f">process_line_node</a> (char *line, const char *file_name, unsigned int line_num, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#036fb597024dca8ff1b498cade62023f">read_node_list</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *config_dir)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#33a5a84371271b347232352f09f5be25">process_line_volume_hierarchy</a> (char *line, ATTRIBUTE_UNUSED const char *file_name, ATTRIBUTE_UNUSED unsigned int line_num, void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#48ffd9bffa635625ea0fdf2db44ca3a7">read_volume_hierarchy</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *volume_hierarchy_dir, uint32_t vid, <a class="el" href="structstring__def.html">string</a> *name, <a class="el" href="structstring__def.html">string</a> *mountpoint)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#4323e495be0339ad446e62af748bf8c5">process_line_volume</a> (char *line, const char *file_name, unsigned int line_num, void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#488ed442bcc3a990c2b8336b8067504b">read_volume_list</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *config_dir)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#6aa3d503d58b5fcdf086000b538e29f6">process_line_user</a> (char *line, const char *file_name, unsigned int line_num, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#e7c1dd140ea2fe94ac4af9f272ab4e78">read_user_list</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *config_dir)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#75397aeb5ca390261cd02b7c153f36af">process_line_group</a> (char *line, const char *file_name, unsigned int line_num, ATTRIBUTE_UNUSED void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#fe73630ca49089c53b49d237f3403ec9">read_group_list</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *config_dir)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#0499de95e3bc44acc9b09e58448cc660">process_line_user_mapping</a> (char *line, const char *file_name, unsigned int line_num, void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#55fca0421847e4085ac46551e764b459">read_user_mapping</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *user_dir, uint32_t sid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#027bcef585e3dd2dc20c6d15e3a619fc">process_line_group_mapping</a> (char *line, const char *file_name, unsigned int line_num, void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#a947e22400a4ce1407d6c3ee5638bf1c">read_group_mapping</a> (<a class="el" href="structzfs__fh__def.html">zfs_fh</a> *group_dir, uint32_t sid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#d48dea97021b23aa93c3f53945b246b4">invalidate_config</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#3ef5e32337a6da0a20b707eb5ba225d6">fix_config</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#23439699db1cb651e5f3e193d237c449">reread_node_list</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#c786e556392924b29af894de6ce70581">reread_volume_list</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#955150954234d1fd694c7df2cdee1214">reread_user_list</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#9751b4139b985faad544ffdd57911ac4">reread_group_list</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#89459bcd6782afcae732370e99093c0d">reread_volume_hierarchy</a> (<a class="el" href="structvolume__def.html">volume</a> vol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#c458ca40b3407d908f3596c8406eb968">reread_user_mapping</a> (uint32_t sid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#d874a234053bc46cc6b1426731a65b00">reread_group_mapping</a> (uint32_t sid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#898275a23a4bb3b6305f8d66dc0b9829">reread_config_file</a> (<a class="el" href="structstring__def.html">string</a> *relative_path)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#b35d0cec5bcb0fcf62b5def80540a135">add_reread_config_request_dentry</a> (<a class="el" href="structinternal__dentry__def.html">internal_dentry</a> dentry)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#8f1ed3033dcf6ff5dc9b772688160f69">add_reread_config_request_local_path</a> (<a class="el" href="structvolume__def.html">volume</a> vol, <a class="el" href="structstring__def.html">string</a> *path)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#eea8b7ceaab536ad2a7d8a21757cc7c8">add_reread_config_request</a> (<a class="el" href="structstring__def.html">string</a> *relative_path, uint32_t from_sid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#1d3e7748c335e784962407165b16e16b">get_reread_config_request</a> (<a class="el" href="structstring__def.html">string</a> *relative_path, uint32_t *from_sid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#d067ee1e053cb67c5591f0314aa98060">config_reader</a> (void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#3c5ab4a57ead3def8936ea0309f18da0">read_global_cluster_config</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#06062f9f09fa586b6cbab34dcdab45ed">read_cluster_config</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#7530221833cf05be7036b1186a307611">verify_thread_limit</a> (<a class="el" href="structthread__limit__def.html">thread_limit</a> *limit, const char *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#f0067ca792b928324f940c60a15c3958">read_config_file</a> (const char *file)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#f648c56dacd880ff7289c9602e5c78b9">initialize_config_c</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#e4c51a63a81cd1c07bfac0795f2cb78a">cleanup_config_c</a> (void)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structthread__def.html">thread</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#536a63644540e51cd5c8b6293751e472">config_reader_data</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structsemaphore__def.html">semaphore</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#b22e1ed1a2add956110f47db9fe60e77">config_sem</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structstring__def.html">string</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#0d25ab84a03b34e1de0ec72820d6857a">kernel_file_name</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structstring__def.html">string</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#af9fbd0cafc057eda896913222c1761f">local_config</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structstring__def.html">string</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#3b000e3e0ce9282a9c9a2c130a641322">private_key</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#6dcbff17c4d66183705fc2a976b1325a">config_node</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#9bf49dfe14c6b79d001964cea203e64c">versioning</a> = false</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#3b4c427a38f04df445e25e0c85b8f307">verdisplay</a> = false</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#2d7d7a80b0694f337ab94f96b49924c5">retention_age_min</a> = -1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#67a1e214b95c07b7a7bd645f1391cf29">retention_age_max</a> = -1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#5810add3e4bcfd110153a10bdb556d4a">retention_num_min</a> = -1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#a543eb8d217beae417fb4976484cefd1">retention_num_max</a> = -1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#2f5c12cd23729c92ce5248163dc1cc20">mlock_zfsd</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structreread__config__request__def.html">reread_config_request</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#e91b38f8359afad64390472d6187713c">reread_config_first</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structreread__config__request__def.html">reread_config_request</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#1576ffd3c5eb2ffc078cc3f38dcf5558">reread_config_last</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structalloc__pool__def.html">alloc_pool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#2c103c21a7b8add7d159aa0c3863e67d">reread_config_pool</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static pthread_mutex_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#07ecaf07f1057d5dfc382ca87c182fb1">reread_config_mutex</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#49f33b8d7221d0d518e99ac8597b659f">saved_vid</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structstring__def.html">string</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#1744b4c5db19776247341ec7a08a4c29">saved_name</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structstring__def.html">string</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#07cf9bc6b01f341d98045cb4cc689a03">saved_mountpoint</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static volatile bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8c.html#b07880cee546ef09fed0011411cd943d">reading_cluster_config</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Configuration. 
<p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="ba889888734a8b272a51d444d70ad2fa"></a><!-- doxytag: member="config.c::LINE_SIZE" ref="ba889888734a8b272a51d444d70ad2fa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LINE_SIZE&nbsp;&nbsp;&nbsp;2048          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="56e01aac0467722bd3ff3d0ce1e42452"></a><!-- doxytag: member="config.c::PROCESS_THREAD_LIMITS" ref="56e01aac0467722bd3ff3d0ce1e42452" args="(KEY, LEN, ELEM)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROCESS_THREAD_LIMITS          </td>
          <td>(</td>
          <td class="paramtype">KEY,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LEN,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ELEM&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="ef9c5590405328bf09537ed6a621451f"></a><!-- doxytag: member="config.c::reread_config_request" ref="ef9c5590405328bf09537ed6a621451f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structreread__config__request__def.html">reread_config_request_def</a>* <a class="el" href="structreread__config__request__def.html">reread_config_request</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="35a7df4473b2b9ac8f2f8a0754203c33"></a><!-- doxytag: member="config.c::volume_hierarchy_data" ref="35a7df4473b2b9ac8f2f8a0754203c33" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structvolume__hierarchy__data__def.html">volume_hierarchy_data_def</a>  <a class="el" href="structvolume__hierarchy__data__def.html">volume_hierarchy_data</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Data for process_line_volume_hierarchy. 
<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="eea8b7ceaab536ad2a7d8a21757cc7c8"></a><!-- doxytag: member="config.c::add_reread_config_request" ref="eea8b7ceaab536ad2a7d8a21757cc7c8" args="(string *relative_path, uint32_t from_sid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void add_reread_config_request           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>relative_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>from_sid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add request to reread config file RELATIVE_PATH to queue. The request came from node FROM_SID. 
</div>
</div><p>
<a class="anchor" name="b35d0cec5bcb0fcf62b5def80540a135"></a><!-- doxytag: member="config.c::add_reread_config_request_dentry" ref="b35d0cec5bcb0fcf62b5def80540a135" args="(internal_dentry dentry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void add_reread_config_request_dentry           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structinternal__dentry__def.html">internal_dentry</a>&nbsp;</td>
          <td class="paramname"> <em>dentry</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add request to reread config file DENTRY to queue. 
</div>
</div><p>
<a class="anchor" name="8f1ed3033dcf6ff5dc9b772688160f69"></a><!-- doxytag: member="config.c::add_reread_config_request_local_path" ref="8f1ed3033dcf6ff5dc9b772688160f69" args="(volume vol, string *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void add_reread_config_request_local_path           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add request to reread config file PATH on volume VOL to queue. 
</div>
</div><p>
<a class="anchor" name="e4c51a63a81cd1c07bfac0795f2cb78a"></a><!-- doxytag: member="config.c::cleanup_config_c" ref="e4c51a63a81cd1c07bfac0795f2cb78a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cleanup_config_c           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroy data structures in CONFIG.C. 
</div>
</div><p>
<a class="anchor" name="d067ee1e053cb67c5591f0314aa98060"></a><!-- doxytag: member="config.c::config_reader" ref="d067ee1e053cb67c5591f0314aa98060" args="(void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* config_reader           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Thread for reading a configuration. 
</div>
</div><p>
<a class="anchor" name="3ef5e32337a6da0a20b707eb5ba225d6"></a><!-- doxytag: member="config.c::fix_config" ref="3ef5e32337a6da0a20b707eb5ba225d6" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool fix_config           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Verify configuration, fix what can be fixed. Return false if there remains something which can't be fixed. 
</div>
</div><p>
<a class="anchor" name="1d3e7748c335e784962407165b16e16b"></a><!-- doxytag: member="config.c::get_reread_config_request" ref="1d3e7748c335e784962407165b16e16b" args="(string *relative_path, uint32_t *from_sid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool get_reread_config_request           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>relative_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>from_sid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a request to reread config from queue and store the relative path of the file to be reread to RELATIVE_PATH and the node ID which the request came from to FROM_SID. 
</div>
</div><p>
<a class="anchor" name="fe779f6a1f29b487f80c5c1bf10f89e7"></a><!-- doxytag: member="config.c::init_config_volume" ref="fe779f6a1f29b487f80c5c1bf10f89e7" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool init_config_volume           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize config volume so that we could read configuration. 
</div>
</div><p>
<a class="anchor" name="17be8fc747be705b6fd5597c76e7c303"></a><!-- doxytag: member="config.c::init_this_node" ref="17be8fc747be705b6fd5597c76e7c303" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void init_this_node           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize local node so that we could read configuration. 
</div>
</div><p>
<a class="anchor" name="f648c56dacd880ff7289c9602e5c78b9"></a><!-- doxytag: member="config.c::initialize_config_c" ref="f648c56dacd880ff7289c9602e5c78b9" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initialize_config_c           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize data structures in CONFIG.C. 
</div>
</div><p>
<a class="anchor" name="d48dea97021b23aa93c3f53945b246b4"></a><!-- doxytag: member="config.c::invalidate_config" ref="d48dea97021b23aa93c3f53945b246b4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void invalidate_config           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Invalidate configuration. 
</div>
</div><p>
<a class="anchor" name="b3a5ec70f077ff0a1db4f2a083a05c24"></a><!-- doxytag: member="config.c::process_file_by_lines" ref="b3a5ec70f077ff0a1db4f2a083a05c24" args="(zfs_fh *fh, const char *file_name, int(*process)(char *, const char *, unsigned int, void *), void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool process_file_by_lines           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(char *, const char *, unsigned int, void *)&nbsp;</td>
          <td class="paramname"> <em>process</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read file FH by lines and call function PROCESS for each line. 
</div>
</div><p>
<a class="anchor" name="dbf93a62702159ff36d5a032f1cc665e"></a><!-- doxytag: member="config.c::process_line" ref="dbf93a62702159ff36d5a032f1cc665e" args="(const char *file, const int line_num, char *line, char **key, char **value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int process_line           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>line_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process one line of configuration file. Return the length of value. 
</div>
</div><p>
<a class="anchor" name="75397aeb5ca390261cd02b7c153f36af"></a><!-- doxytag: member="config.c::process_line_group" ref="75397aeb5ca390261cd02b7c153f36af" args="(char *line, const char *file_name, unsigned int line_num, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int process_line_group           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>line_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process line LINE number LINE_NUM from file FILE_NAME. Return 0 if we should continue reading lines from file. 
</div>
</div><p>
<a class="anchor" name="027bcef585e3dd2dc20c6d15e3a619fc"></a><!-- doxytag: member="config.c::process_line_group_mapping" ref="027bcef585e3dd2dc20c6d15e3a619fc" args="(char *line, const char *file_name, unsigned int line_num, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int process_line_group_mapping           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>line_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process line LINE number LINE_NUM from file FILE_NAME. Return 0 if we should continue reading lines from file. 
</div>
</div><p>
<a class="anchor" name="4f745a2ba9ad2538f0e9cedaf973fd4f"></a><!-- doxytag: member="config.c::process_line_node" ref="4f745a2ba9ad2538f0e9cedaf973fd4f" args="(char *line, const char *file_name, unsigned int line_num, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int process_line_node           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>line_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process line LINE number LINE_NUM from file FILE_NAME. Return 0 if we should continue reading lines from file. 
</div>
</div><p>
<a class="anchor" name="6aa3d503d58b5fcdf086000b538e29f6"></a><!-- doxytag: member="config.c::process_line_user" ref="6aa3d503d58b5fcdf086000b538e29f6" args="(char *line, const char *file_name, unsigned int line_num, ATTRIBUTE_UNUSED void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int process_line_user           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>line_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process line LINE number LINE_NUM from file FILE_NAME. Return 0 if we should continue reading lines from file. 
</div>
</div><p>
<a class="anchor" name="0499de95e3bc44acc9b09e58448cc660"></a><!-- doxytag: member="config.c::process_line_user_mapping" ref="0499de95e3bc44acc9b09e58448cc660" args="(char *line, const char *file_name, unsigned int line_num, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int process_line_user_mapping           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>line_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process line LINE number LINE_NUM from file FILE_NAME. Return 0 if we should continue reading lines from file. 
</div>
</div><p>
<a class="anchor" name="4323e495be0339ad446e62af748bf8c5"></a><!-- doxytag: member="config.c::process_line_volume" ref="4323e495be0339ad446e62af748bf8c5" args="(char *line, const char *file_name, unsigned int line_num, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int process_line_volume           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>line_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process line LINE number LINE_NUM from file FILE_NAME. Return 0 if we should continue reading lines from file. 
</div>
</div><p>
<a class="anchor" name="33a5a84371271b347232352f09f5be25"></a><!-- doxytag: member="config.c::process_line_volume_hierarchy" ref="33a5a84371271b347232352f09f5be25" args="(char *line, ATTRIBUTE_UNUSED const char *file_name, ATTRIBUTE_UNUSED unsigned int line_num, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int process_line_volume_hierarchy           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED const char *&nbsp;</td>
          <td class="paramname"> <em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ATTRIBUTE_UNUSED unsigned int&nbsp;</td>
          <td class="paramname"> <em>line_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process line LINE number LINE_NUM of volume hierarchy file FILE_NAME and update hierarchy DATA. 
</div>
</div><p>
<a class="anchor" name="06062f9f09fa586b6cbab34dcdab45ed"></a><!-- doxytag: member="config.c::read_cluster_config" ref="06062f9f09fa586b6cbab34dcdab45ed" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool read_cluster_config           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read configuration of the cluster - nodes, volumes, ... 
</div>
</div><p>
<a class="anchor" name="f0067ca792b928324f940c60a15c3958"></a><!-- doxytag: member="config.c::read_config_file" ref="f0067ca792b928324f940c60a15c3958" args="(const char *file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool read_config_file           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read configuration from FILE and using this information read configuration of node and cluster. Return true on success. 
</div>
</div><p>
<a class="anchor" name="3c5ab4a57ead3def8936ea0309f18da0"></a><!-- doxytag: member="config.c::read_global_cluster_config" ref="3c5ab4a57ead3def8936ea0309f18da0" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool read_global_cluster_config           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read global configuration of the cluster from config volume. 
</div>
</div><p>
<a class="anchor" name="fe73630ca49089c53b49d237f3403ec9"></a><!-- doxytag: member="config.c::read_group_list" ref="fe73630ca49089c53b49d237f3403ec9" args="(zfs_fh *config_dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool read_group_list           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>config_dir</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read list of groups from CONFIG_DIR/group_list. 
</div>
</div><p>
<a class="anchor" name="a947e22400a4ce1407d6c3ee5638bf1c"></a><!-- doxytag: member="config.c::read_group_mapping" ref="a947e22400a4ce1407d6c3ee5638bf1c" args="(zfs_fh *group_dir, uint32_t sid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool read_group_mapping           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>group_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>sid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read list of group mapping. If SID == 0 read the default group mapping from CONFIG_DIR/group/default else read the special mapping for node SID. 
</div>
</div><p>
<a class="anchor" name="86ecda09379a018265789a3f8532dc2f"></a><!-- doxytag: member="config.c::read_local_cluster_config" ref="86ecda09379a018265789a3f8532dc2f" args="(string *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool read_local_cluster_config           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>path</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read ID and name of local node and local paths of volumes. 
</div>
</div><p>
<a class="anchor" name="914d405937347564ed7c3af763abb837"></a><!-- doxytag: member="config.c::read_local_volume_info" ref="914d405937347564ed7c3af763abb837" args="(string *path, bool reread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool read_local_volume_info           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>reread</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read local info about volumes. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Path where local configuration is stored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reread</em>&nbsp;</td><td>True if we are rereading the local volume info. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="036fb597024dca8ff1b498cade62023f"></a><!-- doxytag: member="config.c::read_node_list" ref="036fb597024dca8ff1b498cade62023f" args="(zfs_fh *config_dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool read_node_list           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>config_dir</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read list of nodes from CONFIG_DIR/node_list. 
</div>
</div><p>
<a class="anchor" name="b941d4761e5472910d000932e80e478d"></a><!-- doxytag: member="config.c::read_private_key" ref="b941d4761e5472910d000932e80e478d" args="(string *key_file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool read_private_key           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>key_file</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e7c1dd140ea2fe94ac4af9f272ab4e78"></a><!-- doxytag: member="config.c::read_user_list" ref="e7c1dd140ea2fe94ac4af9f272ab4e78" args="(zfs_fh *config_dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool read_user_list           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>config_dir</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read list of users from CONFIG_DIR/user_list. 
</div>
</div><p>
<a class="anchor" name="55fca0421847e4085ac46551e764b459"></a><!-- doxytag: member="config.c::read_user_mapping" ref="55fca0421847e4085ac46551e764b459" args="(zfs_fh *user_dir, uint32_t sid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool read_user_mapping           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>user_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>sid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read list of user mapping. If SID == 0 read the default user mapping from CONFIG_DIR/user/default else read the special mapping for node SID. 
</div>
</div><p>
<a class="anchor" name="48ffd9bffa635625ea0fdf2db44ca3a7"></a><!-- doxytag: member="config.c::read_volume_hierarchy" ref="48ffd9bffa635625ea0fdf2db44ca3a7" args="(zfs_fh *volume_hierarchy_dir, uint32_t vid, string *name, string *mountpoint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void read_volume_hierarchy           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>volume_hierarchy_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>mountpoint</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read appropriate file in VOLUME_INFO_DIR and process info about volume VID with name NAME and volume mountpoint MOUNTPOINT. 
</div>
</div><p>
<a class="anchor" name="488ed442bcc3a990c2b8336b8067504b"></a><!-- doxytag: member="config.c::read_volume_list" ref="488ed442bcc3a990c2b8336b8067504b" args="(zfs_fh *config_dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool read_volume_list           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzfs__fh__def.html">zfs_fh</a> *&nbsp;</td>
          <td class="paramname"> <em>config_dir</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read list of volumes from CONFIG_DIR/volume_list. 
</div>
</div><p>
<a class="anchor" name="898275a23a4bb3b6305f8d66dc0b9829"></a><!-- doxytag: member="config.c::reread_config_file" ref="898275a23a4bb3b6305f8d66dc0b9829" args="(string *relative_path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool reread_config_file           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>relative_path</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reread configuration file RELATIVE_PATH. 
</div>
</div><p>
<a class="anchor" name="9751b4139b985faad544ffdd57911ac4"></a><!-- doxytag: member="config.c::reread_group_list" ref="9751b4139b985faad544ffdd57911ac4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool reread_group_list           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reread list of groups. 
</div>
</div><p>
<a class="anchor" name="d874a234053bc46cc6b1426731a65b00"></a><!-- doxytag: member="config.c::reread_group_mapping" ref="d874a234053bc46cc6b1426731a65b00" args="(uint32_t sid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool reread_group_mapping           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>sid</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reread group mapping for node SID. 
</div>
</div><p>
<a class="anchor" name="ad9bbb06e542ce7e7b188cd6da7341cb"></a><!-- doxytag: member="config.c::reread_local_volume_info" ref="ad9bbb06e542ce7e7b188cd6da7341cb" args="(string *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool reread_local_volume_info           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>path</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reread local info about volumes. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Path where local configuration is stored. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="23439699db1cb651e5f3e193d237c449"></a><!-- doxytag: member="config.c::reread_node_list" ref="23439699db1cb651e5f3e193d237c449" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool reread_node_list           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reread list of nodes. 
</div>
</div><p>
<a class="anchor" name="955150954234d1fd694c7df2cdee1214"></a><!-- doxytag: member="config.c::reread_user_list" ref="955150954234d1fd694c7df2cdee1214" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool reread_user_list           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reread list of users. 
</div>
</div><p>
<a class="anchor" name="c458ca40b3407d908f3596c8406eb968"></a><!-- doxytag: member="config.c::reread_user_mapping" ref="c458ca40b3407d908f3596c8406eb968" args="(uint32_t sid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool reread_user_mapping           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>sid</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reread user mapping for node SID. 
</div>
</div><p>
<a class="anchor" name="89459bcd6782afcae732370e99093c0d"></a><!-- doxytag: member="config.c::reread_volume_hierarchy" ref="89459bcd6782afcae732370e99093c0d" args="(volume vol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void reread_volume_hierarchy           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvolume__def.html">volume</a>&nbsp;</td>
          <td class="paramname"> <em>vol</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reread volume hierarchy for volume VOL. 
</div>
</div><p>
<a class="anchor" name="c786e556392924b29af894de6ce70581"></a><!-- doxytag: member="config.c::reread_volume_list" ref="c786e556392924b29af894de6ce70581" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool reread_volume_list           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reread list of volumes. 
</div>
</div><p>
<a class="anchor" name="d132b3f9b8f7c167d5f087ba29dabc23"></a><!-- doxytag: member="config.c::set_default_gid" ref="d132b3f9b8f7c167d5f087ba29dabc23" args="(const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool set_default_gid           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set default node GID to GID of group NAME. Return true on success. 
</div>
</div><p>
<a class="anchor" name="1b8977f01af9c394f262296b35aa7b6c"></a><!-- doxytag: member="config.c::set_default_uid" ref="1b8977f01af9c394f262296b35aa7b6c" args="(const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool set_default_uid           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set default node UID to UID of user NAME. Return true on success. 
</div>
</div><p>
<a class="anchor" name="caa6806f4603602cc4fbf7e0933d36e2"></a><!-- doxytag: member="config.c::set_default_uid_gid" ref="caa6806f4603602cc4fbf7e0933d36e2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_default_uid_gid           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set default local user/group. 
</div>
</div><p>
<a class="anchor" name="c8a0789db69f0905dc181f9abb59b377"></a><!-- doxytag: member="config.c::split_and_trim" ref="c8a0789db69f0905dc181f9abb59b377" args="(char *line, int n, string *parts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int split_and_trim           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstring__def.html">string</a> *&nbsp;</td>
          <td class="paramname"> <em>parts</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Split the line by ':', trim the resulting parts, fill up to N parts to PARTS and return the total number of parts. 
</div>
</div><p>
<a class="anchor" name="7530221833cf05be7036b1186a307611"></a><!-- doxytag: member="config.c::verify_thread_limit" ref="7530221833cf05be7036b1186a307611" args="(thread_limit *limit, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool verify_thread_limit           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structthread__limit__def.html">thread_limit</a> *&nbsp;</td>
          <td class="paramname"> <em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Verify whether the thread limits are valid. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>limit</em>&nbsp;</td><td>Thread limits. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Name of the threads. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="6dcbff17c4d66183705fc2a976b1325a"></a><!-- doxytag: member="config.c::config_node" ref="6dcbff17c4d66183705fc2a976b1325a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="config_8h.html#6dcbff17c4d66183705fc2a976b1325a">config_node</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Node which the local node should fetch the global configuration from. 
</div>
</div><p>
<a class="anchor" name="536a63644540e51cd5c8b6293751e472"></a><!-- doxytag: member="config.c::config_reader_data" ref="536a63644540e51cd5c8b6293751e472" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structthread__def.html">thread</a> <a class="el" href="config_8h.html#536a63644540e51cd5c8b6293751e472">config_reader_data</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Data for config reader thread. 
</div>
</div><p>
<a class="anchor" name="b22e1ed1a2add956110f47db9fe60e77"></a><!-- doxytag: member="config.c::config_sem" ref="b22e1ed1a2add956110f47db9fe60e77" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsemaphore__def.html">semaphore</a> <a class="el" href="config_8h.html#b22e1ed1a2add956110f47db9fe60e77">config_sem</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Semaphore for managing the reread request queue. 
</div>
</div><p>
<a class="anchor" name="0d25ab84a03b34e1de0ec72820d6857a"></a><!-- doxytag: member="config.c::kernel_file_name" ref="0d25ab84a03b34e1de0ec72820d6857a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structstring__def.html">string</a> <a class="el" href="config_8h.html#0d25ab84a03b34e1de0ec72820d6857a">kernel_file_name</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
File used to communicate with kernel. 
</div>
</div><p>
<a class="anchor" name="af9fbd0cafc057eda896913222c1761f"></a><!-- doxytag: member="config.c::local_config" ref="af9fbd0cafc057eda896913222c1761f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structstring__def.html">string</a> <a class="el" href="config_8c.html#af9fbd0cafc057eda896913222c1761f">local_config</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Directory with local node configuration. 
</div>
</div><p>
<a class="anchor" name="2f5c12cd23729c92ce5248163dc1cc20"></a><!-- doxytag: member="config.c::mlock_zfsd" ref="2f5c12cd23729c92ce5248163dc1cc20" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="config_8h.html#2f5c12cd23729c92ce5248163dc1cc20">mlock_zfsd</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
mlockall() zfsd . 
</div>
</div><p>
<a class="anchor" name="3b000e3e0ce9282a9c9a2c130a641322"></a><!-- doxytag: member="config.c::private_key" ref="3b000e3e0ce9282a9c9a2c130a641322" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structstring__def.html">string</a> <a class="el" href="config_8c.html#3b000e3e0ce9282a9c9a2c130a641322">private_key</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
File with private key. 
</div>
</div><p>
<a class="anchor" name="b07880cee546ef09fed0011411cd943d"></a><!-- doxytag: member="config.c::reading_cluster_config" ref="b07880cee546ef09fed0011411cd943d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool <a class="el" href="config_8c.html#b07880cee546ef09fed0011411cd943d">reading_cluster_config</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Has the config reader already terminated? 
</div>
</div><p>
<a class="anchor" name="e91b38f8359afad64390472d6187713c"></a><!-- doxytag: member="config.c::reread_config_first" ref="e91b38f8359afad64390472d6187713c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structreread__config__request__def.html">reread_config_request</a> <a class="el" href="config_8c.html#e91b38f8359afad64390472d6187713c">reread_config_first</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
First and last element of the chain of requests for rereading configuration. 
</div>
</div><p>
<a class="anchor" name="1576ffd3c5eb2ffc078cc3f38dcf5558"></a><!-- doxytag: member="config.c::reread_config_last" ref="1576ffd3c5eb2ffc078cc3f38dcf5558" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structreread__config__request__def.html">reread_config_request</a> <a class="el" href="config_8c.html#1576ffd3c5eb2ffc078cc3f38dcf5558">reread_config_last</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="07ecaf07f1057d5dfc382ca87c182fb1"></a><!-- doxytag: member="config.c::reread_config_mutex" ref="07ecaf07f1057d5dfc382ca87c182fb1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t <a class="el" href="config_8c.html#07ecaf07f1057d5dfc382ca87c182fb1">reread_config_mutex</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Mutex protecting the reread_config chain and alloc pool. 
</div>
</div><p>
<a class="anchor" name="2c103c21a7b8add7d159aa0c3863e67d"></a><!-- doxytag: member="config.c::reread_config_pool" ref="2c103c21a7b8add7d159aa0c3863e67d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structalloc__pool__def.html">alloc_pool</a> <a class="el" href="config_8c.html#2c103c21a7b8add7d159aa0c3863e67d">reread_config_pool</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Alloc pool for allocating nodes of reread config chain. 
</div>
</div><p>
<a class="anchor" name="67a1e214b95c07b7a7bd645f1391cf29"></a><!-- doxytag: member="config.c::retention_age_max" ref="67a1e214b95c07b7a7bd645f1391cf29" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="config_8h.html#67a1e214b95c07b7a7bd645f1391cf29">retention_age_max</a> = -1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="2d7d7a80b0694f337ab94f96b49924c5"></a><!-- doxytag: member="config.c::retention_age_min" ref="2d7d7a80b0694f337ab94f96b49924c5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="config_8h.html#2d7d7a80b0694f337ab94f96b49924c5">retention_age_min</a> = -1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="a543eb8d217beae417fb4976484cefd1"></a><!-- doxytag: member="config.c::retention_num_max" ref="a543eb8d217beae417fb4976484cefd1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="config_8h.html#a543eb8d217beae417fb4976484cefd1">retention_num_max</a> = -1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5810add3e4bcfd110153a10bdb556d4a"></a><!-- doxytag: member="config.c::retention_num_min" ref="5810add3e4bcfd110153a10bdb556d4a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="config_8h.html#5810add3e4bcfd110153a10bdb556d4a">retention_num_min</a> = -1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="07cf9bc6b01f341d98045cb4cc689a03"></a><!-- doxytag: member="config.c::saved_mountpoint" ref="07cf9bc6b01f341d98045cb4cc689a03" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structstring__def.html">string</a> <a class="el" href="config_8c.html#07cf9bc6b01f341d98045cb4cc689a03">saved_mountpoint</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1744b4c5db19776247341ec7a08a4c29"></a><!-- doxytag: member="config.c::saved_name" ref="1744b4c5db19776247341ec7a08a4c29" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structstring__def.html">string</a> <a class="el" href="config_8c.html#1744b4c5db19776247341ec7a08a4c29">saved_name</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="49f33b8d7221d0d518e99ac8597b659f"></a><!-- doxytag: member="config.c::saved_vid" ref="49f33b8d7221d0d518e99ac8597b659f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="config_8c.html#49f33b8d7221d0d518e99ac8597b659f">saved_vid</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Saved information about config volume because we need to update it after information about every volume was read. 
</div>
</div><p>
<a class="anchor" name="3b4c427a38f04df445e25e0c85b8f307"></a><!-- doxytag: member="config.c::verdisplay" ref="3b4c427a38f04df445e25e0c85b8f307" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="config_8h.html#3b4c427a38f04df445e25e0c85b8f307">verdisplay</a> = false          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Versions displayed in readdir. 
</div>
</div><p>
<a class="anchor" name="9bf49dfe14c6b79d001964cea203e64c"></a><!-- doxytag: member="config.c::versioning" ref="9bf49dfe14c6b79d001964cea203e64c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="config_8h.html#9bf49dfe14c6b79d001964cea203e64c">versioning</a> = false          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Versioning enabled. 
</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Aug 6 00:39:37 2010 for zlomekFS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
